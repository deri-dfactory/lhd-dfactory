{"version":3,"sources":["mobile/pages/trade/Trade.js"],"names":["config","DeriEnv","get","inject","observer","wallet","indexPrice","useState","spec","setSpec","specs","useDeriConfig","detail","useEffect","symbol","start","length","props","onSpecChange","pause","className"],"mappings":"2PAUqBA,EAAOC,UAAQC,OAAf,OA+CNC,sBAAO,SAAS,aAAhBA,CAA8BC,aA7C7C,YAAoC,IAApBC,EAAmB,EAAnBA,OAAOC,EAAY,EAAZA,WAAY,EACTC,mBAAS,IADA,mBAC1BC,EAD0B,KACpBC,EADoB,KAE3BC,EAAQC,YAAcN,EAAOO,QAUnCC,qBAAU,WAIR,OAHGL,EAAKM,QACNR,EAAWS,MAAMP,EAAKM,QAEjB,eAEN,CAACN,EAAKM,SAGTD,qBAAU,WAKR,OAJGH,EAAMM,OAAS,IAChBP,EAAQC,EAAM,IACdJ,EAAWS,MAAML,EAAM,GAAGI,SAErB,eAGN,CAACJ,IAEJ,IAAMO,EAAQ,CACZZ,SACAK,QACAF,OACAU,aA9BmB,SAAAV,GACnBF,EAAWa,QACXV,EAAQD,IA6BRF,cAEF,OACE,qBAAKc,UAAU,aAAf,SACE,cAAC,IAAD,eAAeH","file":"static/js/16.8c6b1491.chunk.js","sourcesContent":["\nimport { useState ,useEffect,useCallback} from 'react'\nimport config from '../../../config.json'\nimport axios from 'axios'\nimport { DeriEnv, deriToNatural } from '../../../lib/web3js';\nimport LiteTrade from \"../../../components/Trade/LiteTrade\";\nimport './trade.less'\nimport { inject, observer } from 'mobx-react';\nimport useDeriConfig from '../../../hooks/useDeriConfig.js';\n\nconst oracleConfig = config[DeriEnv.get()]['oracle']\n\nfunction Trade({wallet,indexPrice}){\n  const [spec, setSpec] = useState({});  \n  const specs = useDeriConfig(wallet.detail)\n\n\n  const onSpecChange = spec => {\n    indexPrice.pause();\n    setSpec(spec)\n  }\n\n\n \n  useEffect(() => {\n    if(spec.symbol){\n      indexPrice.start(spec.symbol)\n    }\n    return () => {\n    };\n  }, [spec.symbol]);\n\n\n  useEffect(() => {\n    if(specs.length > 0){\n      setSpec(specs[0]);   \n      indexPrice.start(specs[0].symbol)   \n    }\n    return () => {\n\n    };\n  }, [specs]);\n\n  const props = {\n    wallet,\n    specs,\n    spec ,\n    onSpecChange,\n    indexPrice\n  }\n  return (\n    <div className='trade-body'>\n      <LiteTrade {...props}/>  \n    </div>    \n  )\n}\n\nexport default inject('wallet','indexPrice')(observer(Trade))"],"sourceRoot":""}