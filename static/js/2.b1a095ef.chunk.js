(this["webpackJsonpapp.deri.finance"]=this["webpackJsonpapp.deri.finance"]||[]).push([[2],{537:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(0),a=n.n(i),s=n(1),c=n(15),r=n(3),o=n(35);function l(e){var t=e.btnText,n=e.className,i=e.disabled,l=e.click,d=e.afterClick,u=Object(r.useState)(i?"disabled":"enabled"),j=Object(c.a)(u,2),b=j[0],h=j[1],p=Object(r.useState)(!1),m=Object(c.a)(p,2),v=m[0],f=m[1],O=Object(r.useRef)(null),x=function(){var e=Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("enabled"===b){e.next=2;break}return e.abrupt("return");case 2:return h("disabled"),f(!0),O.current&&(O.current.style.display="inline-block"),e.next=7,l();case 7:e.sent&&d&&d(),O.current&&(O.current.style.display="none"),h("enabled"),f(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.jsxs)("button",{className:n,onClick:x,children:[Object(o.jsx)("span",{className:"btn-loading-wrap",children:Object(o.jsx)("span",{ref:O,className:"spinner spinner-border spinner-border-sm",style:{display:"none",marginRight:"2"}})}),v?"PENDING":t]})}},538:function(e,t,n){"use strict";var i=n(91),a=n(4),s=n(5),c=n(10),r=n(9),o=n(3),l=n.n(o),d=n(540),u=n.n(d),j=n(35);t.a=function(e){var t=document.getElementById("root"),n={overlay:{position:"fixed",background:"none",zIndex:2},content:{position:"absolute",border:0,background:"none",inset:0,overflow:"initial"}};return function(o){Object(c.a)(d,o);var l=Object(r.a)(d);function d(e){var t;return Object(a.a)(this,d),(t=l.call(this,e)).state={modalIsOpen:!1},t}return Object(s.a)(d,[{key:"render",value:function(){var a=this.props.modalIsOpen;return Object(j.jsx)(u.a,{isOpen:a,style:n,appElement:t,children:Object(j.jsx)(e,Object(i.a)(Object(i.a)({},this.props),{},{onClose:this.props.onClose}))})}}]),d}(l.a.Component)}},539:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(3);function a(e,t){var n=Object(i.useRef)(e);Object(i.useEffect)((function(){n.current=e}),[e]),Object(i.useEffect)((function(){if(null!==t){var e=setInterval((function(){return n.current()}),t);return function(){return clearInterval(e)}}}),[t])}},543:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(15),a=n(91),s=n(551),c=n(3),r=n(558),o=(n(552),n(544),n(35)),l=r.b.Handle;function d(e){var t=e.value,n=(e.dragging,e.index),i=Object(s.a)(e,["value","dragging","index"]);return Object(o.jsx)(r.a,{prefixCls:"rc-slider-tooltip",overlay:t||"",placement:"top",visible:!!t,overlayStyle:{display:"block"},overlayInnerStyle:{color:"#569BDA",background:"none",display:"block",fontSize:"10px",boxShadow:"none"},children:Object(o.jsx)(l,Object(a.a)({value:t},i))},n)}function u(e){var t=e.max,n=e.start,a=e.onValueChange,s=Object(c.useState)(0),l=Object(i.a)(s,2),u=l[0],j=l[1],b=Object(c.useState)(0),h=Object(i.a)(b,2),p=h[0],m=h[1],v=Object(c.useState)(!1),f=Object(i.a)(v,2),O=f[0],x=f[1],y=Object(c.useState)({}),g=Object(i.a)(y,2),N=g[0],_=g[1];return Object(c.useEffect)((function(){if(isNaN(t))j("");else{x(!(+t>0));for(var e={},n=+t/10,i=0;i<=10;i++)if(0===i||10===i){var a={top:"-16px",position:"relative"};10===i&&(a.width=100,a.left="-10px",a.paddingRight="10px"),e[i*n]=Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{style:a,children:10===i?(i*n).toFixed(2):i*n}),Object(o.jsx)("div",{style:{top:"-16px",position:"relative"},children:"l"})]})}else e[i*n]="l";_(e),j(+t)}return function(){}}),[t]),Object(c.useEffect)((function(){return isNaN(n)?m(0):m(n),function(){}}),[n]),Object(o.jsx)(r.b,{handle:d,className:"deri-slider",start:n,min:0,max:u,value:p,onChange:function(e){m(e),a(e)},disabled:O,overlay:p,step:.01,marks:N})}},544:function(e,t,n){},547:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(0),a=n.n(i),s=n(1),c=n(15),r=n(3),o=n(536),l=n(44),d=n(35);function u(e){var t=e.wallet,n=e.spec,i=void 0===n?{}:n,u=Object(r.useState)({bSymbol:"USDT",symbol:"BTCUSD",multiplier:"0.0001",fundingRateCoefficient:"0.0000025",minInitialMarginRatio:.1,minMaintenanceMarginRatio:5e-4,feeRatio:.05}),j=Object(c.a)(u,2),b=j[0],h=j[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(s.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.pool||!t.isConnected()){e.next=5;break}return e.next=3,Object(l.t)(t.detail.chainId,i.pool,t.detail.account);case 3:n=e.sent,h(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t&&e(),function(){}}),[i,t]),Object(d.jsxs)("div",{className:"contract-box",children:[Object(d.jsx)("div",{className:"contract-header"}),Object(d.jsxs)("div",{className:"contract-info",children:[Object(d.jsx)("div",{className:"conntract-header",children:"CONTRACT INFO"}),Object(d.jsxs)("div",{className:"info",children:[Object(d.jsx)("div",{className:"title",children:"Base Token"}),Object(d.jsx)("div",{className:"text",children:b.bSymbol})]}),Object(d.jsxs)("div",{className:"info",children:[Object(d.jsx)("div",{className:"title",children:"Symbol"}),Object(d.jsx)("div",{className:"text",children:b.symbol})]}),Object(d.jsxs)("div",{className:"info",children:[Object(d.jsx)("div",{className:"title",children:"Multiplier"}),Object(d.jsx)("div",{className:"text",children:b.multiplier})]}),Object(d.jsxs)("div",{className:"info",children:[Object(d.jsx)("div",{className:"title",children:"Funding Rate Coefficient"}),Object(d.jsx)("div",{className:"text",children:b.fundingRateCoefficient})]}),Object(d.jsxs)("div",{className:"info",children:[Object(d.jsx)("div",{className:"title",children:"Min Initial Margin Ratio"}),Object(d.jsx)("div",{className:"text",children:Object(d.jsx)(o.a,{displayType:"text",value:100*b.minInitialMarginRatio,decimalScale:2,suffix:"%"})})]}),Object(d.jsxs)("div",{className:"info",children:[Object(d.jsx)("div",{className:"title",children:"Min Maintenance Margin Ratio"}),Object(d.jsx)("div",{className:"text",children:Object(d.jsx)(o.a,{displayType:"text",value:100*b.minMaintenanceMarginRatio,decimalScale:2,suffix:"%"})})]}),Object(d.jsxs)("div",{className:"info",children:[Object(d.jsx)("div",{className:"title",children:"Transaction Fee"}),Object(d.jsx)("div",{className:"text",children:Object(d.jsx)(o.a,{displayType:"text",value:100*b.feeRatio,decimalScale:2,suffix:"%"})})]})]})]})}},583:function(e,t,n){},590:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return X}));var i=n(3),a=n(15),s=n(91),c=n(0),r=n.n(c),o=n(1),l=n(535),d=n.n(l),u=n(543),j=n(537),b=n(44),h=n(536),p=n(538),m=n(35);function v(e){var t=e.wallet,n=e.spec,s=void 0===n?{}:n,c=e.onClose,l=e.afterDeposit,d=Object(i.useState)(""),u=Object(a.a)(d,2),p=u[0],v=u[1],f=Object(i.useState)(""),O=Object(a.a)(f,2),x=O[0],y=O[1],g=Object(i.useState)(""),N=Object(a.a)(g,2),_=N[0],w=N[1],S=function(){var e=Object(o.a)(r.a.mark((function e(){var n,i,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConnected()){e.next=5;break}return e.next=3,Object(b.y)(t.detail.chainId,s.pool,t.detail.account);case 3:(n=e.sent)&&(i=(+n).toFixed(2),a=i.substring(i.indexOf("."),i.length),v(n),y(a));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(o.a)(r.a.mark((function e(n){var i,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.f)(t.detail.chainId,s.pool,t.detail.account,n);case 2:(i=e.sent).success?(l(),c()):(a="string"===typeof i.error?i.error:i.error.errorMessage||i.error.message,alert(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){return S(),function(){}}),[t.detail]),Object(m.jsx)("div",{className:"modal fade",children:Object(m.jsx)("div",{className:"modal-dialog",children:Object(m.jsxs)("div",{className:"modal-content",children:[Object(m.jsxs)("div",{className:"modal-header",children:[Object(m.jsx)("div",{className:"title",children:"DEPOSIT MARGIN"}),Object(m.jsx)("div",{className:"close","data-dismiss":"modal",onClick:c,children:Object(m.jsx)("span",{children:"\xd7"})})]}),Object(m.jsx)("div",{className:"modal-body",children:Object(m.jsxs)("div",{className:"margin-box-info",children:[Object(m.jsx)("div",{children:"Wallet Balance"}),Object(m.jsxs)("div",{className:"money",children:[Object(m.jsxs)("span",{children:[Object(m.jsxs)("span",{className:"bt-balance",children:[Object(m.jsx)(h.a,{value:p,displayType:"text",decimalScale:0}),".",Object(m.jsx)("span",{style:{fontSize:"12px"},children:x})]}),Object(m.jsx)("br",{}),Object(m.jsx)("span",{style:{fontSize:"14px",marginLeft:"10px",marginTop:"10px"},children:s.bTokenSymbol})]}),Object(m.jsx)("span",{className:"add"})]}),Object(m.jsxs)("div",{className:"enter-margin",children:[Object(m.jsx)("div",{className:"input-margin",children:Object(m.jsxs)("div",{className:"box",children:[Object(m.jsx)("div",{className:"amount",style:{display:""!==_?"block":"none"},children:"AMOUNT"}),Object(m.jsx)("input",{type:"number",className:"margin-value",placeholder:"Amount",value:_,onChange:function(e){var t=e.target.value;w(t)}})]})}),Object(m.jsx)("div",{children:s.bTokenSymbol})]}),Object(m.jsxs)("div",{className:"max",children:["MAX: ",Object(m.jsx)("span",{className:"max-num",children:p}),Object(m.jsx)("span",{className:"max-btn-left",onClick:function(){w(p)},children:"ADD ALL"})]}),Object(m.jsx)("div",{className:"add-margin-btn",children:Object(m.jsx)(j.a,{className:"margin-btn",btnText:"DEPOSIT",click:function(){return I(_)}})})]})})]})})})}var f=n(539);function O(e){var t=e.wallet,n=void 0===t?{}:t,c=e.spec,l=void 0===c?{}:c,j=e.specs,p=void 0===j?[]:j,v=e.onSpecChange,O=e.indexPrice,x=Object(i.useState)("long"),y=Object(a.a)(x,2),N=y[0],_=y[1],w=Object(i.useState)(null),S=Object(a.a)(w,2),I=S[0],C=S[1],k=Object(i.useState)(!1),A=Object(a.a)(k,2),T=A[0],R=A[1],M=Object(i.useState)("0.00"),P=Object(a.a)(M,2),D=P[0],L=P[1],E=Object(i.useState)({}),U=Object(a.a)(E,2),F=U[0],B=U[1],W=Object(i.useState)("0.00"),Z=Object(a.a)(W,2),G=Z[0],z=Z[1],H=Object(i.useState)(""),V=Object(a.a)(H,2),Y=V[0],J=V[1],Q=Object(i.useState)(""),X=Object(a.a)(Q,2),q=X[0],K=X[1],$=Object(i.useState)(""),ee=Object(a.a)($,2),te=ee[0],ne=ee[1],ie=Object(i.useState)(""),ae=Object(a.a)(ie,2),se=ae[0],ce=ae[1],re=Object(i.useState)({}),oe=Object(a.a)(re,2),le=oe[0],de=oe[1],ue=Object(i.useState)(""),je=Object(a.a)(ue,2),be=je[0],he=je[1],pe=Object(i.useRef)(),me=Object(i.useState)({}),ve=Object(a.a)(me,2),fe=ve[0],Oe=ve[1],xe=Object(i.useState)(""),ye=Object(a.a)(xe,2),ge=ye[0],Ne=ye[1];Object(f.a)(Re,3e3);var _e=d()("checked-long","check-long-short"," long-short",{" checked-short":"short"===N}),we=d()("dropdown-menu",{show:T}),Se=d()("contrant-input",{inputFamliy:""!==ge}),Ie=function(){return l&&l.pool},Ce=function(){return n&&n.detail&&n.detail.account},ke=function(e){Ne(""),_(e)},Ae=function(e){p.length>0&&(e.stopPropagation(),R(!T))},Te=function(){var e=Object(o.a)(r.a.mark((function e(){var t,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ce()||!Ie()){e.next=5;break}return e.next=3,Object(b.l)(n.detail.chainId,l.pool);case 3:(t=e.sent)&&(z(t.fundingRate0),i="Funding  Rate (per block) = ".concat(t.fundingRatePerBlock)+"\n(1 Long contract pays 1 short contract ".concat(t.fundingRatePerBlock," ").concat(l.bTokenSymbol," per block)"),J(i),ce(t.liquidity));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Re(){return Me.apply(this,arguments)}function Me(){return(Me=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ce()||!Ie()){e.next=5;break}return e.next=3,Object(b.q)(n.detail.chainId,l.pool,n.detail.account);case 3:(t=e.sent)&&B(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pe=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ce()||!Ie()){e.next=5;break}return e.next=3,Object(b.t)(n.detail.chainId,l.pool,n.detail.account);case 3:t=e.sent,C(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ce()||!Ie()){e.next=5;break}return e.next=3,Object(b.i)(n.detail.chainId,l.pool,ge);case 3:t=e.sent,ne(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=Object(o.a)(r.a.mark((function e(){var t,i,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ce()||!Ie()){e.next=9;break}return t=n.detail,e.next=4,Object(b.n)(t.chainId,l.pool);case 4:return i=e.sent,e.next=7,Object(b.k)(t.chainId,l.pool,ge);case 7:a=e.sent,i&&a&&de({curLiqUsed:i.liquidityUsed0,afterLiqUsed:a.liquidityUsed1});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ce()||!Ie()){e.next=5;break}return e.next=3,Object(b.j)(n.detail.chainId,l.pool,ge);case 3:(t=e.sent)&&K(t.fundingRate1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ue=function(){!function(){if(Ce()&&Ie()){var e=n.detail,t=e.chainId,i=e.account,a=l.pool;b.B.clear(),b.B.update(t,a),b.b.update(t,a,i)}}(),Te(),Re(),Pe()};return Object(i.useEffect)((function(){var e=document.body.addEventListener("click",(function(){return R(!1)}),!1);return function(){document.body.removeEventListener("click",e)}}),[]),Object(i.useEffect)((function(){return Ue(),function(){}}),[n.detail,l]),Object(i.useEffect)((function(){return function(){if(F&&I&&O){var e=+ge+ +F.volume,t=Math.abs(e)*O.index*I.multiplier,n=(+F.margin+ +F.unrealizedPnl).toFixed(2),i=(t*I.minInitialMarginRatio).toFixed(2),a=(+t/+n).toFixed(1),s=+n-+i,c=t/O.index,r={volume:ge,dynamicBalance:n,margin:i,marginHeld:F.marginHeld,available:s,converted:c,leverage:a};Oe(r)}}(),pe.current&&he(pe.current>O.index?"fall":"rise"),pe.current=O.index,function(){}}),[F.unrealizedPnl,F.volume,O.index,ge]),Object(i.useEffect)((function(){return Ee(),Le(),De(),function(){}}),[ge]),Object(i.useEffect)((function(){if(I){var e=+D/(+O.index*+I.multiplier*+I.minInitialMarginRatio)-+F.volume;if(!isNaN(e)){var t=Math.floor(e);_(t>=0?"long":"short");var n=Object(s.a)({},fe);n.volume=t,Oe(n),Ne(t)}}return function(){}}),[D]),Object(m.jsx)("div",{className:"trade-info",children:Object(m.jsxs)("div",{className:"trade-peration",children:[Object(m.jsxs)("div",{className:"check-baseToken",children:[Object(m.jsxs)("div",{className:"btn-group check-baseToken-btn",children:[Object(m.jsxs)("button",{type:"button",onClick:Ae,className:"btn chec",children:[l.symbol," / ",l.bTokenSymbol," (10X)",Object(m.jsx)("span",{className:"check-base-down",onClick:Ae,children:Object(m.jsx)("svg",{t:"1616752321986",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1700",width:"16",height:"16",children:Object(m.jsx)("path",{d:"M843.946667 285.866667L512 617.386667 180.053333 285.866667 119.893333 346.026667l331.946667 331.946666L512 738.133333l392.106667-392.106666-60.16-60.16z","p-id":"1701",fill:"#cccccc"})})})]}),Object(m.jsx)("div",{className:we,children:Object(m.jsx)("div",{className:"dropdown-box",children:p.map((function(e,t){return Object(m.jsxs)("div",{className:"dropdown-item",onClick:function(){return function(e){var t=p.find((function(t){return t.symbol===e.symbol}));_("long"),O.pause(),v(t),O.start(t.symbol)}(e)},children:[e.symbol," / ",e.bTokenSymbol," (10X)"]},t)}))})})]}),Object(m.jsxs)("div",{className:"price-fundingRate",children:[Object(m.jsxs)("div",{className:"index-prcie",children:["Index Price: ",Object(m.jsxs)("span",{className:be,children:["\xa0 ",Object(m.jsx)(h.a,{value:O.index,displayType:"text"})]})]}),Object(m.jsxs)("div",{className:"funding-rate",children:[Object(m.jsx)("span",{children:"Funding Rate Annual: \xa0"}),Object(m.jsx)("span",{className:"funding-per",title:Y,children:G})]})]})]}),Object(m.jsxs)("div",{className:_e,children:[Object(m.jsx)("div",{className:"check-long",onClick:function(){return ke("long")},children:"LONG / BUY"}),Object(m.jsx)("div",{className:"check-short",onClick:function(){return ke("short")},children:"SHORT / SELL"})]}),Object(m.jsxs)("div",{className:"the-input",children:[Object(m.jsxs)("div",{className:"left",children:[Object(m.jsxs)("div",{className:"current-position",children:[Object(m.jsx)("span",{children:"Current Position"}),Object(m.jsx)("span",{className:"position-text",children:F.volume})]}),Object(m.jsxs)("div",{className:"contrant",children:[Object(m.jsx)("input",{type:"number",onFocus:function(e){e.target.setAttribute("class","contrant-input inputFamliy")},onBlur:function(e){var t=e.target;""===t.value&&t.setAttribute("class","contrant-input")},onKeyUp:function(e){return""!==e.target.value&&/^\d*\.?\d*$/.test(e.target.value)},disabled:!fe.available,onChange:function(e){return Ne(e.target.value)},value:fe.volume&&Math.abs(fe.volume),className:Se,placeholder:"Contract Volume"}),Object(m.jsx)("div",{className:"title-volume",children:"Contract Volume"})]}),!!ge&&Object(m.jsx)("div",{className:"btc",children:Object(m.jsx)(h.a,{value:fe.converted,allowNegative:!1,displayType:"text",decimalScale:4,prefix:"= ",suffix:" ".concat(l.unit)})})]}),Object(m.jsx)("div",{className:"right-info",children:Object(m.jsxs)("div",{className:"contrant-info",children:[Object(m.jsxs)("div",{className:"balance-contract",children:[Object(m.jsxs)("span",{className:"balance-contract-text",children:["Balance in Contract",Object(m.jsx)("br",{}),"(Dynamic Balance)"]}),Object(m.jsx)("span",{className:"balance-contract-num",children:Object(m.jsx)(h.a,{value:fe.dynamicBalance,displayType:"text",decimalScale:2})})]}),Object(m.jsxs)("div",{className:"box-margin",children:[Object(m.jsx)("span",{children:" Margin "}),Object(m.jsx)("span",{className:"margin",children:Object(m.jsx)(h.a,{value:fe.margin,allowNegative:!1,displayType:"text",decimalScale:2})})]}),Object(m.jsxs)("div",{className:"available-balance",children:[Object(m.jsx)("span",{children:" Available Balance "}),Object(m.jsx)("span",{className:"available-balance-num",children:Object(m.jsx)(h.a,{value:fe.available,displayType:"text",decimalScale:2})})]})]})})]}),Object(m.jsx)("div",{className:"slider mt-13",children:Object(m.jsx)(u.a,{max:fe.dynamicBalance,onValueChange:function(e){L(e)},start:fe.margin})}),Object(m.jsx)("div",{className:"title-margin",children:"Margin"}),Object(m.jsx)("div",{className:"enterInfo",children:!!ge&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"text-info",children:[Object(m.jsx)("div",{className:"title-enter pool",children:"Pool Liquidity"}),Object(m.jsx)("div",{className:"text-enter poolL",children:Object(m.jsx)(h.a,{value:se,decimalScale:2,suffix:" ".concat(l.bTokenSymbol),displayType:"text"})})]}),Object(m.jsxs)("div",{className:"text-info",children:[Object(m.jsx)("div",{className:"title-enter",children:"Liquidity Used"}),Object(m.jsxs)("div",{className:"text-enter",children:[Object(m.jsx)(h.a,{value:le.curLiqUsed,displayType:"text",suffix:"%"})," -> ",Object(m.jsx)(h.a,{value:le.afterLiqUsed,displayType:"text",decimalScale:2,suffix:"%"})]})]}),Object(m.jsxs)("div",{className:"text-info",children:[Object(m.jsx)("div",{className:"title-enter",children:"Funding Rate Impact"}),Object(m.jsxs)("div",{className:"text-enter",children:[Object(m.jsx)(h.a,{value:G,displayType:"text",allowNegative:!1,decimalScale:4})," -> ",Object(m.jsx)(h.a,{value:q,displayType:"text",allowNegative:!1,decimalScale:4})]})]}),Object(m.jsxs)("div",{className:"text-info",children:[Object(m.jsx)("div",{className:"title-enter",children:"Transaction Fee"}),Object(m.jsx)("div",{className:"text-enter",children:Object(m.jsx)(h.a,{value:te,decimalScale:2,suffix:" ".concat(l.bTokenSymbol),displayType:"text"})})]})]})}),Object(m.jsx)(g,{hasConnectWallet:Ce,transFee:te,wallet:n,spec:l,indexPrice:O,available:fe.available,volume:ge,direction:N,leverage:fe.leverage,afterTrade:function(){Ne(""),Re()},position:F.volume})]})})}var x=Object(p.a)((function(e){var t=e.wallet,n=e.spec,i=e.onClose,a=e.volume,s=e.direction,c=e.position,l=void 0===c?0:c,d=e.indexPrice,u=e.leverage,p=e.transFee,v=e.afterTrade,f=function(){var e=Object(o.a)(r.a.mark((function e(){var c,o,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="long"===s?a:-a,e.next=3,Object(b.D)(t.detail.chainId,n.pool,t.detail.account,c);case 3:(o=e.sent).success?(v(),i()):(l="string"===typeof o.error?o.error:o.error.errorMessage||o.error.message,alert(l));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=+a+ +l;return Object(m.jsx)("div",{className:"modal-dialog",children:Object(m.jsxs)("div",{className:"modal-content",children:[Object(m.jsxs)("div",{className:"modal-header",children:[Object(m.jsx)("div",{className:"title",children:"CONFIRM"}),Object(m.jsx)("div",{className:"close","data-dismiss":"modal",onClick:i,children:Object(m.jsx)("span",{children:"\xd7"})})]}),Object(m.jsx)("div",{className:"modal-body",children:Object(m.jsxs)("div",{className:"contract-box-info",children:[Object(m.jsxs)("div",{className:"top",children:[Object(m.jsxs)("div",{className:"text",children:[Object(m.jsx)("div",{className:"text-title",children:"# of Contracts"}),Object(m.jsx)("div",{className:"text-num",children:a})]}),Object(m.jsxs)("div",{className:"text",children:[Object(m.jsx)("div",{className:"text-title",children:"Position after execution"}),Object(m.jsx)("div",{className:"text-num",children:O})]}),Object(m.jsxs)("div",{className:"text",children:[Object(m.jsx)("div",{className:"text-title",children:"Direction"}),Object(m.jsx)("div",{className:"text-num",children:Object(m.jsx)("span",{className:s,children:s})})]}),Object(m.jsxs)("div",{className:"text",children:[Object(m.jsx)("div",{className:"text-title",children:"Trade Price (estimated)"}),Object(m.jsx)("div",{className:"text-num",children:Object(m.jsx)(h.a,{value:d,decimalScale:2,displayType:"text"})})]}),Object(m.jsxs)("div",{className:"text",children:[Object(m.jsx)("div",{className:"text-title",children:"Leverage after execution"}),Object(m.jsxs)("div",{className:"text-num",children:[u,"X"]})]}),Object(m.jsxs)("div",{className:"text",children:[Object(m.jsx)("div",{className:"text-title",children:"Transaction Fee"}),Object(m.jsx)("div",{className:"text-num",children:Object(m.jsx)(h.a,{value:p,decimalScale:2,suffix:" ".concat(n.bTokenSymbol),displayType:"text"})})]})]}),Object(m.jsx)("div",{className:"modal-footer",children:Object(m.jsxs)("div",{className:"long-btn","v-if":"confirm",children:[Object(m.jsx)("button",{className:"cancel",onClick:i,children:"CANCEL"}),Object(m.jsx)(j.a,{className:"confirm",btnText:"OK",click:f})]})})]})})]})})})),y=Object(p.a)(v);function g(e){var t=e.hasConnectWallet,n=e.wallet,s=e.spec,c=e.volume,l=e.available,d=e.baseToken,u=e.leverage,h=e.indexPrice,p=e.position,v=e.direction,f=e.transFee,O=e.afterTrade,g=Object(i.useState)(!0),N=Object(a.a)(g,2),_=N[0],w=N[1],S=Object(i.useState)(!1),I=Object(a.a)(S,2),C=I[0],k=I[1],A=Object(i.useState)(!0),T=Object(a.a)(A,2),R=T[0],M=T[1],P=Object(i.useState)(!1),D=Object(a.a)(P,2),L=D[0],E=D[1],U=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B(),O();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(o.a)(r.a.mark((function e(){var i,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t()||!s.pool){e.next=6;break}return i=n.detail,e.next=4,Object(b.z)(i.chainId,s.pool,i.account).catch((function(e){return console.log(e)}));case 4:a=e.sent,w(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){return k(!(+l>0)),function(){}}),[l]),Object(i.useEffect)((function(){return M(!c),function(){}}),[c]),Object(i.useEffect)((function(){return F(),function(){}}),[s.pool]);var B=function(){E(!1)},W=Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(x,{wallet:n,spec:s,modalIsOpen:L,onClose:B,leverage:u,baseToken:d,volume:c,direction:v,position:p,indexPrice:h.index,transFee:f,afterTrade:O}),Object(m.jsx)("button",{className:"short-submit",onClick:function(){return E(!0)},children:"TRADE"})]});return t()?_?C&&void 0!==l?W=Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(y,{wallet:n,modalIsOpen:L,onClose:B,spec:s,afterDeposit:U}),Object(m.jsx)("div",{className:"noMargin-text",children:"You\xa0have\xa0no\xa0fund\xa0in\xa0contract.\xa0Please\xa0deposit\xa0first."}),Object(m.jsx)("button",{className:"short-submit",onClick:function(){return E(!0)},children:"DEPOSIT"})]}):R&&(W=Object(m.jsx)(j.a,{className:"btn btn-danger short-submit",disabled:!0,btnText:"ENTER VOLUME"})):W=Object(m.jsx)(j.a,{className:"approve",btnText:"APPROVE",onClick:function(){var e=n.detail,t=Object(b.E)(e.chainId,s.pool,e.account);t.success?w(!0):alert(t.error)}}):W=Object(m.jsx)(j.a,{className:"btn btn-danger connect",btnText:"Connect Wallet",click:function(){n.connect()}}),Object(m.jsx)("div",{className:"submit-btn",children:W})}var N=n(37);function _(e){var t=e.wallet,n=e.spec,s=void 0===n?{}:n,c=e.onClose,l=e.afterWithdraw,d=Object(i.useState)(""),u=Object(a.a)(d,2),p=u[0],v=u[1],f=Object(i.useState)(""),O=Object(a.a)(f,2),x=O[0],y=O[1],g=Object(i.useState)(""),N=Object(a.a)(g,2),_=N[0],w=N[1],S=function(){var e=Object(o.a)(r.a.mark((function e(){var n,i,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConnected()){e.next=5;break}return e.next=3,Object(b.q)(t.detail.chainId,s.pool,t.detail.account);case 3:(n=e.sent)&&(i=+n.margin+ +n.unrealizedPnl+"",a=i.substring(i.indexOf("."),i.indexOf(".")+3),v(i),y(a));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(o.a)(r.a.mark((function e(){var n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.F)(t.detail.chainId,s.pool,t.detail.account,_);case 2:(n=e.sent).success?l():(i="string"===typeof n.error?n.error:n.error.errorMessage||n.error.message,alert(i));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){return S(),function(){}}),[t.detail.account]),Object(m.jsx)("div",{className:"modal fade",id:"removeMargin",children:Object(m.jsx)("div",{className:"modal-dialog",children:Object(m.jsxs)("div",{className:"modal-content",children:[Object(m.jsxs)("div",{className:"modal-header",children:[Object(m.jsx)("div",{className:"title",children:"WITHDRAW MARGIN"}),Object(m.jsx)("div",{className:"close",onClick:c,children:Object(m.jsx)("span",{children:"\xd7"})})]}),Object(m.jsx)("div",{className:"modal-body",children:Object(m.jsxs)("div",{className:"margin-box-info",children:[Object(m.jsx)("div",{children:"Available Balance"}),Object(m.jsxs)("div",{className:"money",children:[Object(m.jsx)("span",{children:Object(m.jsxs)("span",{className:"bt-balance",children:[Object(m.jsx)(h.a,{value:p,thousandSeparator:!1,displayType:"text",decimalScale:0}),".",Object(m.jsx)("span",{style:{fontSize:"12px"},children:x})]})}),Object(m.jsx)("span",{className:"remove"})]}),Object(m.jsxs)("div",{className:"enter-margin remv",children:[Object(m.jsx)("div",{className:"input-margin",children:Object(m.jsxs)("div",{className:"box",children:[Object(m.jsx)("div",{className:"amount",style:{display:""!==_?"block":"none"},children:"AMOUNT"}),Object(m.jsx)("input",{type:"number",className:"margin-value",value:_,onChange:function(e){var t=e.target.value;w(t)},placeholder:"Amount"})]})}),Object(m.jsx)("div",{children:s.baseToken})]}),Object(m.jsxs)("div",{className:"max","v-show":"isPosition",children:["MAX: ",Object(m.jsx)("span",{className:"max-num",children:p}),Object(m.jsx)("span",{className:"max-btn-left",onClick:function(){w(p)},children:"REMOVE ALL"})]}),Object(m.jsx)("div",{className:"add-margin-btn",children:Object(m.jsx)(j.a,{className:"margin-btn",btnText:"WITHDRAW",click:I})})]})})]})})})}var w=Object(p.a)(v),S=Object(p.a)(_);function I(e){var t=e.wallet,n=e.spec,s=void 0===n?{}:n,c=Object(i.useState)(!1),l=Object(a.a)(c,2),u=l[0],j=l[1],p=Object(i.useState)({}),v=Object(a.a)(p,2),O=v[0],x=v[1],y=Object(i.useState)(""),g=Object(a.a)(y,2),_=g[0],I=g[1],C=Object(i.useState)(""),k=Object(a.a)(C,2),A=k[0],T=k[1],R=Object(i.useState)(!1),M=Object(a.a)(R,2),P=M[0],D=M[1],L=Object(i.useState)(!1),E=Object(a.a)(L,2),U=E[0],F=E[1];function B(){return W.apply(this,arguments)}function W(){return(W=Object(o.a)(r.a.mark((function e(){var n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.isConnected()&&s&&s.pool)){e.next=5;break}return e.next=3,Object(b.q)(t.detail.chainId,s.pool,t.detail.account);case 3:(n=e.sent)&&(x(n),i=+n.volume>0?"LONG":0==n.volume?"--":"SHORT",I(i),T(+n.margin+ +n.unrealizedPnl));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(f.a)(B,3e3);var Z=function(){var e=Object(o.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,Object(b.d)(t.detail.chainId,s.pool,t.detail.account).finally((function(){return j(!1)}));case 3:(n=e.sent).success?B():"string"===typeof n.error?alert(n.error):"object"===Object(N.a)(n.error)?alert(n.error.errorMessage):alert("Liquidation failed");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=d()("Direction","info-num",{LONG:"LONG"===_,SHORT:"SHORT"===_});return Object(i.useEffect)((function(){return B(),function(){}}),[t.detail.account,s.pool]),Object(m.jsxs)("div",{className:"position-info",children:[Object(m.jsxs)("div",{className:"info",children:[Object(m.jsxs)("div",{className:"info-left",children:[Object(m.jsx)("div",{className:"title-text",children:"Position"}),Object(m.jsx)("div",{className:"info-num",children:O.volume})]}),Object(m.jsx)("div",{className:"info-right",children:Object(m.jsxs)("div",{className:"close-position",id:"close-p",onClick:Z,children:[Object(m.jsx)("span",{className:"spinner spinner-border spinner-border-sm",role:"status","aria-hidden":"true",style:{display:u?"block":"none"}}),Object(m.jsx)("svg",{t:"1618369709897",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2009",width:"14",height:"14",children:Object(m.jsx)("path",{d:"M510.8096 420.3008l335.296-335.296 90.5088 90.5088-335.296 335.296 335.296 335.296-90.5088 90.5088-335.296-335.296-335.296 335.296-90.5088-90.5088 335.296-335.296-335.296-335.296 90.5088-90.5088z","p-id":"2010",fill:"#ffffff"})})," Close"]})})]}),Object(m.jsxs)("div",{className:"info",children:[Object(m.jsxs)("div",{className:"info-left",children:[Object(m.jsx)("div",{className:"title-text",children:"Average Entry Price"}),Object(m.jsx)("div",{className:"info-num",children:Object(m.jsx)(h.a,{value:O.averageEntryPrice,decimalScale:2,displayType:"text"})})]}),Object(m.jsx)("div",{className:"info-right"})]}),Object(m.jsxs)("div",{className:"info",children:[Object(m.jsxs)("div",{className:"info-left",children:[Object(m.jsx)("div",{className:"title-text balance-con",children:"Balance in Contract (Dynamic Balance)"}),Object(m.jsxs)("div",{className:"info-num",children:[" ",Object(m.jsx)(h.a,{decimalScale:2,value:A,displayType:"text"})]})]}),Object(m.jsxs)("div",{className:"info-right",children:[Object(m.jsxs)("div",{className:"add-margin",id:"openAddMargin",onClick:function(){return D(!0)},children:[Object(m.jsx)("svg",{className:"svg",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",children:Object(m.jsx)("path",{id:"login",d:"M13,9,7,4V7H0v4H7v3Zm3,7H8v2h8a2.006,2.006,0,0,0,2-2V2a2.006,2.006,0,0,0-2-2H8V2h8Z",transform:"translate(18) rotate(90)",fill:"#3ebf38"})}),"Add"]}),Object(m.jsxs)("div",{className:"remove-margin",onClick:function(){return F(!0)},children:[Object(m.jsx)("svg",{className:"svg",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",children:Object(m.jsx)("path",{id:"log-out","data-name":"log out",d:"M18,9,12,4V7H5v4h7v3ZM2,2h8V0H2A2.006,2.006,0,0,0,0,2V16a2.006,2.006,0,0,0,2,2h8V16H2Z",transform:"translate(0 18) rotate(-90)",fill:"#e35061"})}),"Remove"]})]})]}),Object(m.jsxs)("div",{className:"info",children:[Object(m.jsxs)("div",{className:"info-left",children:[Object(m.jsx)("div",{className:"title-text",children:"Direction"}),Object(m.jsx)("div",{className:G,children:_})]}),Object(m.jsx)("div",{className:"info-right"})]}),Object(m.jsxs)("div",{className:"info",children:[Object(m.jsxs)("div",{className:"info-left",children:[Object(m.jsx)("div",{className:"title-text",children:"Margin"}),Object(m.jsx)("div",{className:"info-num",children:Object(m.jsx)(h.a,{value:O.marginHeld,displayType:"text",decimalScale:2})})]}),Object(m.jsx)("div",{className:"info-right"})]}),Object(m.jsxs)("div",{className:"info",children:[Object(m.jsxs)("div",{className:"info-left",children:[Object(m.jsx)("div",{className:"title-text",children:"Unrealized PnL"}),Object(m.jsx)("div",{className:"info-num",children:Object(m.jsx)(h.a,{value:O.unrealizedPnl,displayType:"text",decimalScale:8})})]}),Object(m.jsx)("div",{className:"info-right"})]}),Object(m.jsxs)("div",{className:"info",children:[Object(m.jsxs)("div",{className:"info-left",children:[Object(m.jsx)("div",{className:"title-text",children:"Liquidation Price"}),Object(m.jsx)("div",{className:"info-num",children:Object(m.jsx)(h.a,{decimalScale:2,value:O.liquidationPrice,displayType:"text"})})]}),Object(m.jsx)("div",{className:"info-right"})]}),Object(m.jsx)(w,{wallet:t,modalIsOpen:P,onClose:function(){D(!1)},spec:s,afterDeposit:function(){D(!1),B()}}),Object(m.jsx)(S,{wallet:t,modalIsOpen:U,onClose:function(){F(!1)},spec:s,afterWithdraw:function(){F(!1),B()}})]})}var C=n(546),k=n.n(C);function A(e){var t=e.wallet,n=void 0===t?{}:t,s=e.spec,c=void 0===s?{}:s,l=e.specs,d=void 0===l?[]:l,u=Object(i.useState)([]),j=Object(a.a)(u,2),p=j[0],v=j[1],f=function(){var e=Object(o.a)(r.a.mark((function e(){var t,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.detail.account&&c.pool&&d)){e.next=6;break}return e.next=3,Object(b.u)(n.detail.chainId,c.pool,n.detail.account);case 3:t=e.sent,i=t.map((function(e){e.directionText="LONG"===e.direction?"LONG / BUY":"SHORT / SELL";var t=d.find((function(t){return t.bTokenSymbol===e.baseToken}));return t&&(e.baseTokenText=" ".concat(t.symbol," / ").concat(t.bTokenSymbol)),e})),v(i);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){return f(),function(){}}),[n.detail,c.pool,d]),Object(m.jsx)("div",{className:"history-info","v-show":"historyShow",children:p.map((function(e,t){return Object(m.jsxs)("div",{className:"history-box",children:[Object(m.jsxs)("div",{className:"direction-bToken-price",children:[Object(m.jsxs)("span",{children:[Object(m.jsx)("span",{className:"".concat(e.direction),children:e.directionText}),Object(m.jsx)("span",{children:e.baseTokenText})]}),Object(m.jsx)("span",{className:"history-text time",children:k.a.asString("yyyy-MM-dd hh:mm:ss",new Date(parseInt(e.time)))})]}),Object(m.jsxs)("div",{className:"time-price-volume",children:[Object(m.jsxs)("div",{className:"history-price",children:[Object(m.jsx)("div",{className:"history-title",children:"Volume @ Price"}),Object(m.jsxs)("div",{className:"history-text",children:[e.volume," @ ",Object(m.jsx)(h.a,{value:e.price,decimalScale:2,displayType:"text"})]})]}),Object(m.jsxs)("div",{className:"notional",children:[Object(m.jsx)("div",{className:"history-title",children:"Notional"}),Object(m.jsx)("div",{className:"history-text",children:e.notional})]}),Object(m.jsxs)("div",{className:"history-fee",children:[Object(m.jsx)("div",{className:"history-title",children:"Transaction Fee"}),Object(m.jsx)("div",{className:"history-text",children:e.transactionFee})]})]})]},t)}))})}var T=n(547);function R(e){var t=e.wallet,n=e.specs,s=e.spec,c=e.onSpecChange,r=e.isPro,o=e.indexPrice,l=Object(i.useState)("trade"),u=Object(a.a)(l,2),j=u[0],b=u[1],h=function(e){return b(e)},p=d()("trade-position",j);return Object(m.jsxs)("div",{className:p,children:[Object(m.jsx)("div",{className:"header-top",children:Object(m.jsxs)("div",{className:"header",children:[Object(m.jsx)("span",{className:"trade",onClick:function(){return h("trade")},children:"TRADE"}),!r&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("span",{className:"position",onClick:function(){return h("position")},children:"MY POSITION"}),Object(m.jsx)("span",{className:"history",onClick:function(){return h("history")},children:"HISTORY"})]})]})}),Object(m.jsx)(O,{wallet:t,spec:s,specs:n,indexPrice:o,onSpecChange:c}),Object(m.jsx)(I,{wallet:t,spec:s}),Object(m.jsx)(A,{wallet:t,spec:s,specs:n}),Object(m.jsx)(T.a,{wallet:t,spec:s})]})}var M=function(){return(M=Object.assign||function(e){for(var t,n=arguments,i=1,a=arguments.length;i<a;i++)for(var s in t=n[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function P(e,t){var n=M({},e);for(var i in t)"object"!=typeof e[i]||null===e[i]||Array.isArray(e[i])?void 0!==t[i]&&(n[i]=t[i]):n[i]=P(e[i],t[i]);return n}var D={mobile:{disabled_features:["left_toolbar","header_widget","timeframes_toolbar","edit_buttons_in_legend","context_menus","control_bar","border_around_the_chart"],enabled_features:[]}},L={width:800,height:500,interval:"1D",timezone:"Etc/UTC",container_id:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},trading_customization:{position:{},order:{}},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"1W"},{text:"1y",resolution:"1W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[]}};var E=function(){function e(e){if(this._id="tradingview_"+(1048576*(1+Math.random())|0).toString(16).substring(1),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!e.datafeed)throw new Error("Datafeed is not defined");if(this._options=P(L,e),e.preset){var t=D[e.preset];t?(void 0!==this._options.disabled_features?this._options.disabled_features=this._options.disabled_features.concat(t.disabled_features):this._options.disabled_features=t.disabled_features,void 0!==this._options.enabled_features?this._options.enabled_features=this._options.enabled_features.concat(t.enabled_features):this._options.enabled_features=t.enabled_features):console.warn("Unknown preset: `"+e.preset+"`")}"Dark"===this._options.theme&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:"#131722"}),this._create()}return e.prototype.onChartReady=function(e){this._ready?e.call(this):this._readyHandlers.push(e)},e.prototype.headerReady=function(){var e=this;return this._innerWindowLoaded.then((function(){return e._innerWindow().headerReady()}))},e.prototype.onGrayedObjectClicked=function(e){this._innerAPI().onGrayedObjectClicked(e)},e.prototype.onShortcut=function(e,t){this._innerWindow().createShortcutAction(e,t)},e.prototype.subscribe=function(e,t){this._innerAPI().subscribe(e,t)},e.prototype.unsubscribe=function(e,t){this._innerAPI().unsubscribe(e,t)},e.prototype.chart=function(e){return this._innerAPI().chart(e)},e.prototype.getLanguage=function(){return this._options.locale},e.prototype.setSymbol=function(e,t,n){this._innerAPI().changeSymbol(e,t,n)},e.prototype.remove=function(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)},e.prototype.closePopupsAndDialogs=function(){this._innerAPI().closePopupsAndDialogs()},e.prototype.selectLineTool=function(e){this._innerAPI().selectLineTool(e)},e.prototype.selectedLineTool=function(){return this._innerAPI().selectedLineTool()},e.prototype.save=function(e){this._innerAPI().saveChart(e)},e.prototype.load=function(e,t){this._innerAPI().loadChart({json:e,extendedData:t})},e.prototype.getSavedCharts=function(e){this._innerAPI().getSavedCharts(e)},e.prototype.loadChartFromServer=function(e){this._innerAPI().loadChartFromServer(e)},e.prototype.saveChartToServer=function(e,t,n){this._innerAPI().saveChartToServer(e,t,n)},e.prototype.removeChartFromServer=function(e,t){this._innerAPI().removeChartFromServer(e,t)},e.prototype.onContextMenu=function(e){this._innerAPI().onContextMenu(e)},e.prototype.createButton=function(e){return this._innerWindow().createButton(e)},e.prototype.showNoticeDialog=function(e){this._innerAPI().showNoticeDialog(e)},e.prototype.showConfirmDialog=function(e){this._innerAPI().showConfirmDialog(e)},e.prototype.showLoadChartDialog=function(){this._innerAPI().showLoadChartDialog()},e.prototype.showSaveAsChartDialog=function(){this._innerAPI().showSaveAsChartDialog()},e.prototype.symbolInterval=function(){return this._innerAPI().getSymbolInterval()},e.prototype.mainSeriesPriceFormatter=function(){return this._innerAPI().mainSeriesPriceFormatter()},e.prototype.getIntervals=function(){return this._innerAPI().getIntervals()},e.prototype.getStudiesList=function(){return this._innerAPI().getStudiesList()},e.prototype.addCustomCSSFile=function(e){this._innerWindow().addCustomCSSFile(e)},e.prototype.applyOverrides=function(e){this._options=P(this._options,{overrides:e}),this._innerWindow().applyOverrides(e)},e.prototype.applyStudiesOverrides=function(e){this._innerWindow().applyStudiesOverrides(e)},e.prototype.watchList=function(){return this._innerAPI().watchlist()},e.prototype.activeChart=function(){return this._innerAPI().activeChart()},e.prototype.chartsCount=function(){return this._innerAPI().chartsCount()},e.prototype.layout=function(){return this._innerAPI().layout()},e.prototype.setLayout=function(e){this._innerAPI().setLayout(e)},e.prototype.layoutName=function(){return this._innerAPI().layoutName()},e.prototype.changeTheme=function(e,t){this._innerWindow().changeTheme(e,t)},e.prototype.getTheme=function(){return this._innerWindow().getTheme()},e.prototype.takeScreenshot=function(){this._innerAPI().takeScreenshot()},e.prototype.lockAllDrawingTools=function(){return this._innerAPI().lockAllDrawingTools()},e.prototype.hideAllDrawingTools=function(){return this._innerAPI().hideAllDrawingTools()},e.prototype.drawOnAllCharts=function(e){this._innerAPI().drawOnAllCharts(e)},e.prototype.magnetEnabled=function(){return this._innerAPI().magnetEnabled()},e.prototype.magnetMode=function(){return this._innerAPI().magnetMode()},e.prototype.undoRedoState=function(){return this._innerAPI().undoRedoState()},e.prototype.setIntervalLinkingEnabled=function(e){this._innerAPI().setIntervalLinkingEnabled(e)},e.prototype.setTimeFrame=function(e){this._innerAPI().setTimeFrame(e)},e.prototype.symbolSync=function(){return this._innerAPI().symbolSync()},e.prototype.intervalSync=function(){return this._innerAPI().intervalSync()},e.prototype.crosshairSync=function(){return this._innerAPI().crosshairSync()},e.prototype.timeSync=function(){return this._innerAPI().timeSync()},e.prototype.getAllFeatures=function(){return this._innerWindow().getAllFeatures()},e.prototype.clearUndoHistory=function(){return this._innerAPI().clearUndoHistory()},e.prototype.undo=function(){return this._innerAPI().undo()},e.prototype.redo=function(){return this._innerAPI().redo()},e.prototype.startFullscreen=function(){this._innerAPI().startFullscreen()},e.prototype.exitFullscreen=function(){this._innerAPI().exitFullscreen()},e.prototype.takeClientScreenshot=function(e){return this._innerAPI().takeClientScreenshot(e)},e.prototype._innerAPI=function(){return this._innerWindow().tradingViewApi},e.prototype._innerWindow=function(){return this._iFrame.contentWindow},e.prototype._autoResizeChart=function(){this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+"px")},e.prototype._create=function(){var e=this,t=this._render(),n=document.getElementById(this._options.container_id);if(null===n)throw new Error("There is no such element - #"+this._options.container_id);n.innerHTML=t,this._iFrame=n.querySelector("#"+this._id);var i=this._iFrame;(this._options.autosize||this._options.fullscreen)&&(i.style.width="100%",this._options.fullscreen||(i.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded=new Promise((function(e){i.addEventListener("load",(function t(){i.removeEventListener("load",t,!1),e()}),!1)})),this._innerWindowLoaded.then((function(){e._innerWindow().widgetReady((function(){e._ready=!0;for(var t=0,n=e._readyHandlers;t<n.length;t++){var i=n[t];try{i.call(e)}catch(a){console.error(a)}}e._innerWindow().initializationFinished()}))}))},e.prototype._render=function(){var e=window;if(e[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.custom_formatters||this._options.customFormatters,brokerFactory:this._options.broker_factory||this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,tradingCustomization:this._options.trading_customization,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.broker_config||this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,getCustomIndicators:this._options.custom_indicators_getter},this._options.saved_data)e[this._id].chartContent={json:this._options.saved_data},this._options.saved_data_meta_info&&(e[this._id].chartContentExtendedData=this._options.saved_data_meta_info);else if(!this._options.load_last_chart&&!this._options.symbol)throw new Error("Symbol is not defined: either 'symbol' or 'load_last_chart' option must be set");var t=(this._options.library_path||"")+(encodeURIComponent(this._options.locale)+"-tv-chart.b555c6a4.html#symbol=")+encodeURIComponent(this._options.symbol||"")+"&interval="+encodeURIComponent(this._options.interval)+(this._options.timeframe?"&timeframe="+encodeURIComponent(this._options.timeframe):"")+(this._options.toolbar_bg?"&toolbarbg="+encodeURIComponent(this._options.toolbar_bg.replace("#","")):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+encodeURIComponent(String(this._options.debug))+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"")+(this._options.compare_symbols?"&compareSymbols="+encodeURIComponent(JSON.stringify(this._options.compare_symbols)):"")+(this._options.theme?"&theme="+encodeURIComponent(String(this._options.theme)):"");return'<iframe id="'+this._id+'" name="'+this._id+'"  src="'+t+'"'+(this._options.autosize||this._options.fullscreen?"":' width="'+this._options.width+'" height="'+this._options.height+'"')+' frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;"></iframe>'},e}();window.TradingView=window.TradingView||{},window.TradingView.version=function(){return"CL v18.043 (internal id b555c6a4 @ 2021-02-18T09:41:15.150Z)"};var U=n(126),F=n.n(U),B={},W=function(e,t,n,i,a){var c,r=e.name;c="prod"==b.a.get()?"COIN"==r?"https://oracle3.deri.finance/pricekline/":"https://oracle.deri.finance/pricekline/":"https://oracle2.deri.finance/pricekline/";var o={symbol:r,bars:200};switch(!0){case t.indexOf("D")>0:var l=t.substr(0,1);o.period=24*l*60*60;break;case t.indexOf("W")>0:var d=t.substr(0,1);o.period=24*d*60*60*7;break;case t.indexOf("M")>0:var u=t.substr(0,1);o.period=24*u*60*60*30;break;default:o.period=60*t}return F.a.get(c,{params:Object(s.a)({},o)}).then((function(t){if(t.data.data.length){var n=t.data.data.map((function(e){return{time:String(e.ts).length<13?1e3*e.ts:e.ts,low:Number(e.l),high:Number(e.h),open:Number(e.o),close:Number(e.c),volume:Number(e.v)}}));if(a){var i=n[n.length-1];B[e.name]={lastBar:i}}return n}return[]}))},Z={supported_resolutions:["1","5","15","30","60","240","1D","5D","1W","1M"]},G={onReady:function(e){setTimeout((function(){return e(Z)}),0)},bars:{},searchSymbols:function(e,t,n,i){},resolveSymbol:function(e,t,n){var i={name:e,pricescale:100,ticker:e,description:"",minmov:1,type:"crypto",has_intraday:!0,intraday_multipliers:["1","2","5","15","30","60","240","1D","7D","1W","1M"],has_weekly_and_monthly:!0,data_status:"streaming",has_no_volume:!0,pro_name:e,has_daily:!0,regular_session:"24x7"};setTimeout((function(){t(i)}),0)},getBars:function(e,t,n,i,a,s,c){if(n>0&&i>0){var r=localStorage.getItem("localResolutions")||t;W(e,r,n,i,c).then((function(e){var t=e.length;t?1e3*i>e[t-1].time?a(e,{noData:!1}):a([],{noData:!0}):a(e,{noData:!0})})).catch((function(e){s(e)}))}},subscribeBars:function(e,t,n,i,a){},unsubscribeBars:function(e){},calculateHistoryDepth:function(e,t,n){},getMarks:function(e,t,n,i,a){},getTimeScaleMarks:function(e,t,n,i,a){},getServerTime:function(e){}},z="tv_chart_container";function H(e){var t=e.spec,n=void 0===t?{}:t,s=Object(i.useState)(!0),c=Object(a.a)(s,2),r=c[0],o=c[1],l=Object(i.useState)("thirty"),u=Object(a.a)(l,2),j=u[0],b=u[1],h=Object(i.useState)(null),p=Object(a.a)(h,2),v=p[0],f=p[1],O=d()("btn",j),x=function(e,t){o(!0),b(t),v.chart().refreshMarks(),v.activeChart().setResolution(e,(function(){o(!1)}))};return Object(i.useEffect)((function(){return f(function(){var e={symbol:n.symbol,datafeed:G,interval:localStorage.getItem("localResolutions")||"1D",container_id:z,library_path:"/charting_library/",locale:"en",disabled_features:["header_widget","display_market_status","timeframes_toolbar","left_toolbar","legend_context_menu","adptive_logo","use_localstorage_for_settings","edit_buttons_in_legend","control_bar","move_logo_to_main_pane"],enabled_features:["show_logo_on_all_charts"],charts_storage_url:"https://saveload.tradingview.com",charts_storage_api_version:"1.14",client_id:"tradingview.com",user_id:"public_user_id",fullscreen:!1,autosize:!0,overrides:{"paneProperties.background":"#212327","paneProperties.vertGridProperties.color":"#212327","paneProperties.horzGridProperties.color":"#212327","symbolWatermarkProperties.transparency":90,"scalesProperties.textColor":"#AAA","mainSeriesProperties.candleStyle.wickUpColor":"#76af8e","mainSeriesProperties.candleStyle.wickDownColor":"#ee5766"},timezone:"Asia/Beijing"},t=new E(e);return t.onChartReady((function(){t.activeChart().setResolution("30",(function(){o(!1)}))})),t}()),function(){null!==v&&v.remove()}}),[]),Object(m.jsxs)("div",{id:"tradingview",children:[Object(m.jsxs)("div",{className:O,children:[Object(m.jsx)("span",{className:"tab-btn one",onClick:function(){return x("1","one")},children:"1min"}),Object(m.jsx)("span",{className:"tab-btn five",onClick:function(){return x("5","five")},children:"5min"}),Object(m.jsx)("span",{className:"tab-btn fifteen",onClick:function(){return x("15","fifteen")},children:"15min"}),Object(m.jsx)("span",{className:"tab-btn thirty",onClick:function(){return x("30","thirty")},children:"30min"}),Object(m.jsx)("span",{className:"tab-btn sixty",onClick:function(){return x("60","sixty")},children:"1hour"}),Object(m.jsx)("span",{className:"tab-btn one-day",onClick:function(){return x("1D","one-day")},children:"1day"}),Object(m.jsx)("span",{className:"tab-btn one-week",onClick:function(){return x("1W","one-week")},children:"1week"})]}),Object(m.jsx)("div",{className:"loading",style:{display:r?"block":"none"},children:Object(m.jsx)("div",{className:"spinner-border",role:"status",children:Object(m.jsx)("span",{className:"sr-only"})})}),Object(m.jsx)("div",{id:z})]})}function V(e){var t=e.wallet,n=void 0===t?{}:t,s=e.spec,c=void 0===s?{}:s,l=e.indexPrice,d=Object(i.useState)({fundingRate0:"-",tradersNetVolume:"-"}),u=Object(a.a)(d,2),j=u[0],p=u[1],v=Object(i.useState)(""),f=Object(a.a)(v,2),O=f[0],x=f[1],y=Object(i.useRef)(),g=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isConnected()){e.next=5;break}return e.next=3,Object(b.l)(n.detail.chainId,c.pool);case 3:t=e.sent,p(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){return y.current&&(y.current>l.index?x("fall"):x("rise")),y.current=l.index,function(){}}),[l.index]),Object(i.useEffect)((function(){return g(),function(){}}),[n.detail.account,c,l.index]),Object(m.jsxs)("div",{id:"trading-view",children:[Object(m.jsxs)("div",{className:"right-top",children:[Object(m.jsxs)("div",{className:"symbol-basetoken-text",children:[c.symbol," / ",c.bTokenSymbol," (10X)"]}),Object(m.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(m.jsx)("div",{className:"trade-dashboard-title",children:"Index Price"}),Object(m.jsx)("div",{className:O,children:Object(m.jsx)(h.a,{value:l.index,displayType:"text"})})]}),Object(m.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(m.jsxs)("div",{className:"trade-dashboard-title",children:[Object(m.jsx)("span",{children:"Funding Rate Annual"}),"  "]}),Object(m.jsx)("div",{className:"trade-dashboard-value",children:Object(m.jsx)("span",{className:"funding-per",children:Object(m.jsx)(h.a,{value:j.fundingRate0,displayType:"text",decimalScale:4,suffix:"%"})})})]}),Object(m.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(m.jsx)("div",{className:"trade-dashboard-title",children:"Total Net Position"}),Object(m.jsx)("div",{className:"trade-dashboard-value",children:j.tradersNetVolume})]}),Object(m.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(m.jsx)("div",{className:"trade-dashboard-title",children:"Pool Total liquidity"}),Object(m.jsxs)("div",{className:"trade-dashboard-value",children:[" ",Object(m.jsx)(h.a,{allowLeadingZeros:!0,value:j.liquidity||"--",displayType:"text",decimalScale:2})," ",c.bTokenSymbol]})]})]}),Object(m.jsx)("div",{className:"tradingview",children:Object(m.jsx)(H,{spec:c})})]})}function Y(e){var t=e.wallet,n=void 0===t?{}:t,s=e.spec,c=void 0===s?{}:s,l=Object(i.useState)({balanceContract:"-",averageEntryPrice:"-",marginHeld:"-",unrealizedPnl:"-",liquidationPrice:"-"}),d=Object(a.a)(l,2),u=d[0],j=d[1],O=Object(i.useState)(!1),x=Object(a.a)(O,2),y=x[0],g=x[1],w=Object(i.useState)(!1),S=Object(a.a)(w,2),I=S[0],C=S[1],k=Object(i.useState)(!1),A=Object(a.a)(k,2),T=A[0],R=A[1];Object(f.a)(E,3e3);var M=Object(p.a)(v),P=Object(p.a)(_),D=function(){E()},L=D;function E(){return U.apply(this,arguments)}function U(){return(U=Object(o.a)(r.a.mark((function e(){var t,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isConnected()||!c.pool){e.next=5;break}return e.next=3,Object(b.q)(n.detail.chainId,c.pool,n.detail.account);case 3:(t=e.sent)&&(i=+t.volume>0?"LONG":0==t.volume?"--":"SHORT",t.direction=i,t.balanceContract=+t.margin+ +t.unrealizedPnl,j(t));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,Object(b.d)(n.detail.chainId,c.pool,n.detail.account).finally((function(){return g(!1)}));case 3:(t=e.sent).success?E():"string"===typeof t.error?alert(t.error):"object"===Object(N.a)(t.error)?alert(t.error.errorMessage):alert("Liquidation failed");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){return E(),function(){}}),[n.detail.account,c.pool]),Object(m.jsxs)("div",{className:"position-box",children:[Object(m.jsxs)("div",{className:"p-box theader",children:[Object(m.jsx)("div",{children:"Position"}),Object(m.jsx)("div",{children:"Average Entry Price"}),Object(m.jsx)("div",{children:"Direction"}),Object(m.jsxs)("div",{children:["Balance in Contract",Object(m.jsx)("br",{}),"(Dynamic Balance)"]}),Object(m.jsx)("div",{children:"Margin"}),Object(m.jsx)("div",{children:"Unrealized PnL"}),Object(m.jsx)("div",{children:"Liquidation Price"})]}),Object(m.jsxs)("div",{className:"p-box tbody",children:[Object(m.jsxs)("div",{children:[u.volume,Object(m.jsxs)("span",{className:"close-position",children:[Object(m.jsx)("span",{className:"spinner spinner-border spinner-border-sm",style:{display:y?"block":"none"}}),Object(m.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAlCAYAAADFniADAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF62lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wNC0wMlQxNTozODoxMyswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDQtMDZUMjA6MDU6MTIrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDQtMDZUMjA6MDU6MTIrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDlkYTVmMGQtZjBkZC0xYTRiLTlhNWUtZTBlNDMwZTI5OGI3IiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6OGU2NWEzMTAtM2M4YS1jMDQ3LWIyMDAtZjZhYTZkMDlkNWRlIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6MDUwZmRhMGUtNTUyNC0wNjQxLTg1ZmYtYWUyNjAyODUxMzgzIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowNTBmZGEwZS01NTI0LTA2NDEtODVmZi1hZTI2MDI4NTEzODMiIHN0RXZ0OndoZW49IjIwMjEtMDQtMDJUMTU6Mzg6MTMrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ5ZGE1ZjBkLWYwZGQtMWE0Yi05YTVlLWUwZTQzMGUyOThiNyIgc3RFdnQ6d2hlbj0iMjAyMS0wNC0wNlQyMDowNToxMiswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4SuXJrAAACqElEQVRYhb3XTWjTYBgH8P+bJq+0TrbatZui4EG3irCNQXVM0CqeBA+CwvAk6EVEQfy4eRFPfiGK4EUGeqgX8aSC4vAiBYnSdkNHFUFh6qGvbWFKmzSJF1Mzl3RvPpr/8X2ekB8P7wMJkWUZudx3cWpqnVJk9MZYv3IOIedTXXzb1PB129rWQQCIIJsVj2Y3qQZABmLaZJHRNYMx7XmYoM29rfFUVE/PMWk4FdMfEVmWDWuTbgAlRq+HMTETZD2bZdJ9ocSke1aVQICRhHK2UKHXwgYpOjEaeuSVMJJQj8+GDLMDNTRiFNmqY5lkY1oAgDBhziB6JJNsTAOAYBbCgHUC7Ug1H7bfa23oJowXtAzVLdjHuviGF2SLChpWron5Lb2tDC/IERUUrFwT80N9rQk3oI4oE1Zi9K4XmFfQiigAGE0oJ4qM3nYD8wPiQgHAWEI5zQvzC+JG8cKCAAEAkWWZtxcAUGD01mhCOUUsZ7oBLPyKfNvYo633CwJcTMqM08SCAnlCOcGCAnlGmbCFRfGHXe1zXXzmFeQLVa6J+Q09rUG72nBc3f+uQi+FirLbMmsiBBhNKBe9wlyjHNZe/1CVXlrvmB+YK5QTqFQRD22Nq/v+v/xeYdyoTqDtA+pjwH4rvcC4UDwgM0HAVkS5AQUF64jyAgoC5ogq16TXXkF+Ybao+ao0M9SnTvoBLYFVpJu6RbYSbBlqvirNpOPqniBAbVi/eqbE6FVe2BJUN0D/YMoFXlgb1U2QW5gQFsgNLLLr8MnQQGYGY9qLIqOrU1FtJ/n7CSsQIBXVdhcrFALI0gd+t7oLMmM3McMADBBNSPepe99XpSdtEJMOdBtkB1N1ggKj58eTzcvtH4e5n9KDRZXkJgaUp2GArClU6BVVF75kUo07APAH3WicsIPb8YcAAAAASUVORK5CYII=",onClick:F})]})]}),Object(m.jsx)("div",{children:Object(m.jsx)(h.a,{value:u.averageEntryPrice,displayType:"text",decimalScale:2})}),Object(m.jsx)("div",{className:u.direction,children:u.direction}),Object(m.jsxs)("div",{children:[Object(m.jsx)(h.a,{value:u.balanceContract,displayType:"text",decimalScale:2}),Object(m.jsx)("span",{className:"open-add",onClick:function(){return C(!0)},children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",children:Object(m.jsx)("path",{id:"login",d:"M13,9,7,4V7H0v4H7v3Zm3,7H8v2h8a2.006,2.006,0,0,0,2-2V2a2.006,2.006,0,0,0-2-2H8V2h8Z",transform:"translate(18) rotate(90)",fill:"#3ebf38"})})}),Object(m.jsx)("span",{className:"open-remove",onClick:function(){return R(!0)},children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",children:Object(m.jsx)("path",{id:"log-out","data-name":"log out",d:"M18,9,12,4V7H5v4h7v3ZM2,2h8V0H2A2.006,2.006,0,0,0,0,2V16a2.006,2.006,0,0,0,2,2h8V16H2Z",transform:"translate(0 18) rotate(-90)",fill:"#e35061"})})})]}),Object(m.jsx)("div",{children:Object(m.jsx)(h.a,{value:u.marginHeld,displayType:"text",decimalScale:2})}),Object(m.jsx)("div",{children:Object(m.jsx)(h.a,{value:u.unrealizedPnl,displayType:"text",decimalScale:8})}),Object(m.jsx)("div",{children:Object(m.jsx)(h.a,{value:u.liquidationPrice,displayType:"text",decimalScale:2})})]}),Object(m.jsx)("div",{className:"p-box tbody"}),Object(m.jsx)(M,{wallet:n,modalIsOpen:I,onClose:function(){return C(!1)},spec:c,afterDeposit:L}),Object(m.jsx)(P,{wallet:n,modalIsOpen:T,onClose:function(){return R(!1)},spec:c,afterWithdraw:D})]})}function J(e){var t=e.wallet,n=e.spec,s=Object(i.useState)([]),c=Object(a.a)(s,2),l=c[0],d=c[1];return Object(i.useEffect)((function(){return function(){var e=Object(o.a)(r.a.mark((function e(){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConnected()||!n.pool){e.next=5;break}return e.next=3,Object(b.u)(t.detail.chainId,n.pool,t.detail.account);case 3:i=e.sent,d(i);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){}}),[t.detail.account,n]),Object(m.jsxs)("div",{className:"history-box",children:[Object(m.jsxs)("div",{className:"p-box theader",children:[Object(m.jsx)("div",{className:"td",children:"Time"}),Object(m.jsx)("div",{children:"Direction"}),Object(m.jsx)("div",{children:"Base Token"}),Object(m.jsx)("div",{children:"Price"}),Object(m.jsx)("div",{children:"Volume"}),Object(m.jsx)("div",{children:"Notional"}),Object(m.jsx)("div",{children:"Transaction Fee"})]}),l.map((function(e,t){return Object(m.jsxs)("div",{className:"p-box tbody",children:[Object(m.jsx)("div",{className:"td",children:k.a.asString("yyyy-MM-dd hh:mm:ss",new Date(parseInt(e.time)))}),Object(m.jsx)("div",{className:e.direction,children:"LONG"===e.direction?"".concat(e.direction," / BUY"):"".concat(e.direction," / SELL")}),Object(m.jsx)("div",{children:e.baseToken}),Object(m.jsx)("div",{children:Object(m.jsx)(h.a,{value:e.price,displayType:"text",decimalScale:2})}),Object(m.jsx)("div",{children:e.volume}),Object(m.jsx)("div",{children:e.notional}),Object(m.jsx)("div",{children:e.transactionFee})]},t)}))]})}function Q(e){var t=e.wallet,n=e.spec,s=Object(i.useState)("position"),c=Object(a.a)(s,2),r=c[0],o=c[1],l=function(e){o(e)},u=d()("position-info",r);return Object(m.jsxs)("div",{className:u,children:[Object(m.jsxs)("div",{className:"position-header",children:[Object(m.jsxs)("div",{className:"position-title",children:[Object(m.jsx)("span",{className:"position-info-title",children:"POSITION INFO"}),Object(m.jsx)("span",{className:"history-info-title",children:"TRADE HISTORY"})]}),Object(m.jsxs)("div",{className:"check-position-history ",children:[Object(m.jsx)("div",{className:"btn-position",onClick:function(){return l("position")},children:"CURRENT POSITION"}),Object(m.jsx)("div",{className:"btn-history",onClick:function(){return l("history")},children:"TRADE HISTORY"})]})]}),Object(m.jsxs)("div",{className:"pos-his-info ",children:[Object(m.jsx)(Y,{wallet:t,spec:n}),Object(m.jsx)(J,{wallet:t,spec:n})]})]})}n(583);function X(e){var t=e.wallet,n=e.specs,i=e.spec,a=e.onSpecChange,s=e.indexPrice;return Object(m.jsxs)("div",{className:"trade-pro",children:[Object(m.jsx)("div",{className:"left",children:Object(m.jsx)(R,{wallet:t,isPro:!0,spec:i,specs:n,indexPrice:s,onSpecChange:a})}),Object(m.jsxs)("div",{className:"right",children:[Object(m.jsx)(V,{wallet:t,spec:i,indexPrice:s}),Object(m.jsx)(Q,{wallet:t,spec:i})]})]})}}}]);
//# sourceMappingURL=2.b1a095ef.chunk.js.map