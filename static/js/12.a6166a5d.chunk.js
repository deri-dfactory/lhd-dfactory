(this["webpackJsonpapp.deri.finance"]=this["webpackJsonpapp.deri.finance"]||[]).push([[12,15],{549:function(e,t,n){},550:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(0),o=n.n(i),r=n(1),s=n(15),a=n(3),c=n(44);function l(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),i=n[0],l=n[1],d=function(){var e=Object(r.a)(o.a.mark((function e(t){var n,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.h)(c.a.get());case 2:n=e.sent,t.account?(i=n.filter((function(e){return+e.chainId===+t.chainId})),l(i)):l(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){return d(e),function(){}}),[e.account]),i}},557:function(e,t,n){"use strict";n.r(t);var i=n(3),o=n(0),r=n.n(o),s=n(1),a=n(15),c=n(44),l=n(536),d=function(){return(d=Object.assign||function(e){for(var t,n=arguments,i=1,o=arguments.length;i<o;i++)for(var r in t=n[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function u(e,t){var n=d({},e);for(var i in t)"object"!=typeof e[i]||null===e[i]||Array.isArray(e[i])?void 0!==t[i]&&(n[i]=t[i]):n[i]=u(e[i],t[i]);return n}var h={mobile:{disabled_features:["left_toolbar","header_widget","timeframes_toolbar","edit_buttons_in_legend","context_menus","control_bar","border_around_the_chart"],enabled_features:[]}},p={width:800,height:500,interval:"1D",timezone:"Etc/UTC",container_id:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},trading_customization:{position:{},order:{}},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"1W"},{text:"1y",resolution:"1W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[]}};var b=function(){function e(e){if(this._id="tradingview_"+(1048576*(1+Math.random())|0).toString(16).substring(1),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!e.datafeed)throw new Error("Datafeed is not defined");if(this._options=u(p,e),e.preset){var t=h[e.preset];t?(void 0!==this._options.disabled_features?this._options.disabled_features=this._options.disabled_features.concat(t.disabled_features):this._options.disabled_features=t.disabled_features,void 0!==this._options.enabled_features?this._options.enabled_features=this._options.enabled_features.concat(t.enabled_features):this._options.enabled_features=t.enabled_features):console.warn("Unknown preset: `"+e.preset+"`")}"Dark"===this._options.theme&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:"#131722"}),this._create()}return e.prototype.onChartReady=function(e){this._ready?e.call(this):this._readyHandlers.push(e)},e.prototype.headerReady=function(){var e=this;return this._innerWindowLoaded.then((function(){return e._innerWindow().headerReady()}))},e.prototype.onGrayedObjectClicked=function(e){this._innerAPI().onGrayedObjectClicked(e)},e.prototype.onShortcut=function(e,t){this._innerWindow().createShortcutAction(e,t)},e.prototype.subscribe=function(e,t){this._innerAPI().subscribe(e,t)},e.prototype.unsubscribe=function(e,t){this._innerAPI().unsubscribe(e,t)},e.prototype.chart=function(e){return this._innerAPI().chart(e)},e.prototype.getLanguage=function(){return this._options.locale},e.prototype.setSymbol=function(e,t,n){this._innerAPI().changeSymbol(e,t,n)},e.prototype.remove=function(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)},e.prototype.closePopupsAndDialogs=function(){this._innerAPI().closePopupsAndDialogs()},e.prototype.selectLineTool=function(e){this._innerAPI().selectLineTool(e)},e.prototype.selectedLineTool=function(){return this._innerAPI().selectedLineTool()},e.prototype.save=function(e){this._innerAPI().saveChart(e)},e.prototype.load=function(e,t){this._innerAPI().loadChart({json:e,extendedData:t})},e.prototype.getSavedCharts=function(e){this._innerAPI().getSavedCharts(e)},e.prototype.loadChartFromServer=function(e){this._innerAPI().loadChartFromServer(e)},e.prototype.saveChartToServer=function(e,t,n){this._innerAPI().saveChartToServer(e,t,n)},e.prototype.removeChartFromServer=function(e,t){this._innerAPI().removeChartFromServer(e,t)},e.prototype.onContextMenu=function(e){this._innerAPI().onContextMenu(e)},e.prototype.createButton=function(e){return this._innerWindow().createButton(e)},e.prototype.showNoticeDialog=function(e){this._innerAPI().showNoticeDialog(e)},e.prototype.showConfirmDialog=function(e){this._innerAPI().showConfirmDialog(e)},e.prototype.showLoadChartDialog=function(){this._innerAPI().showLoadChartDialog()},e.prototype.showSaveAsChartDialog=function(){this._innerAPI().showSaveAsChartDialog()},e.prototype.symbolInterval=function(){return this._innerAPI().getSymbolInterval()},e.prototype.mainSeriesPriceFormatter=function(){return this._innerAPI().mainSeriesPriceFormatter()},e.prototype.getIntervals=function(){return this._innerAPI().getIntervals()},e.prototype.getStudiesList=function(){return this._innerAPI().getStudiesList()},e.prototype.addCustomCSSFile=function(e){this._innerWindow().addCustomCSSFile(e)},e.prototype.applyOverrides=function(e){this._options=u(this._options,{overrides:e}),this._innerWindow().applyOverrides(e)},e.prototype.applyStudiesOverrides=function(e){this._innerWindow().applyStudiesOverrides(e)},e.prototype.watchList=function(){return this._innerAPI().watchlist()},e.prototype.activeChart=function(){return this._innerAPI().activeChart()},e.prototype.chartsCount=function(){return this._innerAPI().chartsCount()},e.prototype.layout=function(){return this._innerAPI().layout()},e.prototype.setLayout=function(e){this._innerAPI().setLayout(e)},e.prototype.layoutName=function(){return this._innerAPI().layoutName()},e.prototype.changeTheme=function(e,t){this._innerWindow().changeTheme(e,t)},e.prototype.getTheme=function(){return this._innerWindow().getTheme()},e.prototype.takeScreenshot=function(){this._innerAPI().takeScreenshot()},e.prototype.lockAllDrawingTools=function(){return this._innerAPI().lockAllDrawingTools()},e.prototype.hideAllDrawingTools=function(){return this._innerAPI().hideAllDrawingTools()},e.prototype.drawOnAllCharts=function(e){this._innerAPI().drawOnAllCharts(e)},e.prototype.magnetEnabled=function(){return this._innerAPI().magnetEnabled()},e.prototype.magnetMode=function(){return this._innerAPI().magnetMode()},e.prototype.undoRedoState=function(){return this._innerAPI().undoRedoState()},e.prototype.setIntervalLinkingEnabled=function(e){this._innerAPI().setIntervalLinkingEnabled(e)},e.prototype.setTimeFrame=function(e){this._innerAPI().setTimeFrame(e)},e.prototype.symbolSync=function(){return this._innerAPI().symbolSync()},e.prototype.intervalSync=function(){return this._innerAPI().intervalSync()},e.prototype.crosshairSync=function(){return this._innerAPI().crosshairSync()},e.prototype.timeSync=function(){return this._innerAPI().timeSync()},e.prototype.getAllFeatures=function(){return this._innerWindow().getAllFeatures()},e.prototype.clearUndoHistory=function(){return this._innerAPI().clearUndoHistory()},e.prototype.undo=function(){return this._innerAPI().undo()},e.prototype.redo=function(){return this._innerAPI().redo()},e.prototype.startFullscreen=function(){this._innerAPI().startFullscreen()},e.prototype.exitFullscreen=function(){this._innerAPI().exitFullscreen()},e.prototype.takeClientScreenshot=function(e){return this._innerAPI().takeClientScreenshot(e)},e.prototype._innerAPI=function(){return this._innerWindow().tradingViewApi},e.prototype._innerWindow=function(){return this._iFrame.contentWindow},e.prototype._autoResizeChart=function(){this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+"px")},e.prototype._create=function(){var e=this,t=this._render(),n=document.getElementById(this._options.container_id);if(null===n)throw new Error("There is no such element - #"+this._options.container_id);n.innerHTML=t,this._iFrame=n.querySelector("#"+this._id);var i=this._iFrame;(this._options.autosize||this._options.fullscreen)&&(i.style.width="100%",this._options.fullscreen||(i.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded=new Promise((function(e){i.addEventListener("load",(function t(){i.removeEventListener("load",t,!1),e()}),!1)})),this._innerWindowLoaded.then((function(){e._innerWindow().widgetReady((function(){e._ready=!0;for(var t=0,n=e._readyHandlers;t<n.length;t++){var i=n[t];try{i.call(e)}catch(o){console.error(o)}}e._innerWindow().initializationFinished()}))}))},e.prototype._render=function(){var e=window;if(e[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.custom_formatters||this._options.customFormatters,brokerFactory:this._options.broker_factory||this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,tradingCustomization:this._options.trading_customization,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.broker_config||this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,getCustomIndicators:this._options.custom_indicators_getter},this._options.saved_data)e[this._id].chartContent={json:this._options.saved_data},this._options.saved_data_meta_info&&(e[this._id].chartContentExtendedData=this._options.saved_data_meta_info);else if(!this._options.load_last_chart&&!this._options.symbol)throw new Error("Symbol is not defined: either 'symbol' or 'load_last_chart' option must be set");var t=(this._options.library_path||"")+(encodeURIComponent(this._options.locale)+"-tv-chart.b555c6a4.html#symbol=")+encodeURIComponent(this._options.symbol||"")+"&interval="+encodeURIComponent(this._options.interval)+(this._options.timeframe?"&timeframe="+encodeURIComponent(this._options.timeframe):"")+(this._options.toolbar_bg?"&toolbarbg="+encodeURIComponent(this._options.toolbar_bg.replace("#","")):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+encodeURIComponent(String(this._options.debug))+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"")+(this._options.compare_symbols?"&compareSymbols="+encodeURIComponent(JSON.stringify(this._options.compare_symbols)):"")+(this._options.theme?"&theme="+encodeURIComponent(String(this._options.theme)):"");return'<iframe id="'+this._id+'" name="'+this._id+'"  src="'+t+'"'+(this._options.autosize||this._options.fullscreen?"":' width="'+this._options.width+'" height="'+this._options.height+'"')+' frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;"></iframe>'},e}();window.TradingView=window.TradingView||{},window.TradingView.version=function(){return"CL v18.043 (internal id b555c6a4 @ 2021-02-18T09:41:15.150Z)"};var m=n(91),_=n(92),j=n.n(_),f={},v=function(e,t,n,i,o){var r,s=e.name;r="prod"==c.a.get()?"COIN"==s?"https://oracle3.deri.finance/pricekline/":"https://oracle.deri.finance/pricekline/":"https://oracle2.deri.finance/pricekline/";var a={symbol:s,bars:200};switch(!0){case t.indexOf("D")>0:var l=t.substr(0,1);a.period=24*l*60*60;break;case t.indexOf("W")>0:var d=t.substr(0,1);a.period=24*d*60*60*7;break;case t.indexOf("M")>0:var u=t.substr(0,1);a.period=24*u*60*60*30;break;default:a.period=60*t}return j.a.get(r,{params:Object(m.a)({},a)}).then((function(t){if(t.data.data.length){var n=t.data.data.map((function(e){return{time:String(e.ts).length<13?1e3*e.ts:e.ts,low:Number(e.l),high:Number(e.h),open:Number(e.o),close:Number(e.c),volume:Number(e.v)}}));if(o){var i=n[n.length-1];f[e.name]={lastBar:i}}return n}return[]}))},y={supported_resolutions:["1","5","15","30","60","240","1D","5D","1W","1M"]},O={onReady:function(e){setTimeout((function(){return e(y)}),0)},bars:{},searchSymbols:function(e,t,n,i){},resolveSymbol:function(e,t,n){var i={name:e,pricescale:100,ticker:e,description:"",minmov:1,type:"crypto",has_intraday:!0,intraday_multipliers:["1","2","5","15","30","60","240","1D","7D","1W","1M"],has_weekly_and_monthly:!0,data_status:"streaming",has_no_volume:!0,pro_name:e,has_daily:!0,regular_session:"24x7"};setTimeout((function(){t(i)}),0)},getBars:function(e,t,n,i,o,r,s){if(n>0&&i>0){var a=localStorage.getItem("localResolutions")||t;v(e,a,n,i,s).then((function(e){var t=e.length;t?1e3*i>e[t-1].time?o(e,{noData:!1}):o([],{noData:!0}):o(e,{noData:!0})})).catch((function(e){r(e)}))}},subscribeBars:function(e,t,n,i,o){},unsubscribeBars:function(e){},calculateHistoryDepth:function(e,t,n){},getMarks:function(e,t,n,i,o){},getTimeScaleMarks:function(e,t,n,i,o){},getServerTime:function(e){}},g=n(535),x=n.n(g),w=n(35),I="tv_chart_container";function A(e){var t=e.spec,n=void 0===t?{}:t,o=Object(i.useState)(!0),r=Object(a.a)(o,2),s=r[0],c=r[1],l=Object(i.useState)("thirty"),d=Object(a.a)(l,2),u=d[0],h=d[1],p=Object(i.useState)(null),m=Object(a.a)(p,2),_=m[0],j=m[1],f=x()("btn",u),v=function(e,t){c(!0),h(t),_.chart().refreshMarks(),_.activeChart().setResolution(e,(function(){c(!1)}))};return Object(i.useEffect)((function(){return j(function(){var e={symbol:n.symbol,datafeed:O,interval:localStorage.getItem("localResolutions")||"1D",container_id:I,library_path:"".concat("https://lhd-defactory.github.io/lhd-dfactory","/charting_library/"),locale:"en",disabled_features:["header_widget","display_market_status","timeframes_toolbar","left_toolbar","legend_context_menu","adptive_logo","use_localstorage_for_settings","edit_buttons_in_legend","control_bar","move_logo_to_main_pane"],enabled_features:["show_logo_on_all_charts"],charts_storage_url:"https://saveload.tradingview.com",charts_storage_api_version:"1.14",client_id:"tradingview.com",user_id:"public_user_id",fullscreen:!1,autosize:!0,overrides:{"paneProperties.background":"#212327","paneProperties.vertGridProperties.color":"#212327","paneProperties.horzGridProperties.color":"#212327","symbolWatermarkProperties.transparency":90,"scalesProperties.textColor":"#AAA","mainSeriesProperties.candleStyle.wickUpColor":"#76af8e","mainSeriesProperties.candleStyle.wickDownColor":"#ee5766"},timezone:"Asia/Beijing"},t=new b(e);return t.onChartReady((function(){t.activeChart().setResolution("30",(function(){c(!1)}))})),t}()),function(){null!==_&&_.remove()}}),[]),Object(w.jsxs)("div",{id:"tradingview",children:[Object(w.jsxs)("div",{className:f,children:[Object(w.jsx)("span",{className:"tab-btn one",onClick:function(){return v("1","one")},children:"1min"}),Object(w.jsx)("span",{className:"tab-btn five",onClick:function(){return v("5","five")},children:"5min"}),Object(w.jsx)("span",{className:"tab-btn fifteen",onClick:function(){return v("15","fifteen")},children:"15min"}),Object(w.jsx)("span",{className:"tab-btn thirty",onClick:function(){return v("30","thirty")},children:"30min"}),Object(w.jsx)("span",{className:"tab-btn sixty",onClick:function(){return v("60","sixty")},children:"1hour"}),Object(w.jsx)("span",{className:"tab-btn one-day",onClick:function(){return v("1D","one-day")},children:"1day"}),Object(w.jsx)("span",{className:"tab-btn one-week",onClick:function(){return v("1W","one-week")},children:"1week"})]}),Object(w.jsx)("div",{className:"loading",style:{display:s?"block":"none"},children:Object(w.jsx)("div",{className:"spinner-border",role:"status",children:Object(w.jsx)("span",{className:"sr-only"})})}),Object(w.jsx)("div",{id:I})]})}function C(e){var t=e.wallet,n=void 0===t?{}:t,o=e.spec,d=void 0===o?{}:o,u=e.indexPrice,h=Object(i.useState)({fundingRate0:"-",tradersNetVolume:"-"}),p=Object(a.a)(h,2),b=p[0],m=p[1],_=Object(i.useState)("rise"),j=Object(a.a)(_,2),f=j[0],v=j[1],y=Object(i.useRef)(),O=function(){var e=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isConnected()){e.next=5;break}return e.next=3,Object(c.l)(n.detail.chainId,d.pool);case 3:t=e.sent,m(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){return y.current&&(y.current>u.index?v("fall"):v("rise")),y.current=u.index,function(){}}),[u.index]),Object(i.useEffect)((function(){return O(),function(){}}),[n.detail.account,d,u.index]),Object(w.jsxs)("div",{id:"trading-view",children:[Object(w.jsxs)("div",{className:"right-top",children:[Object(w.jsxs)("div",{className:"symbol-basetoken-text",children:[d.symbol," / ",d.bTokenSymbol," (10X)"]}),Object(w.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(w.jsx)("div",{className:"trade-dashboard-title",children:"Index Price"}),Object(w.jsx)("div",{className:f,children:Object(w.jsx)(l.a,{value:u.index,displayType:"text"})})]}),Object(w.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(w.jsxs)("div",{className:"trade-dashboard-title",children:[Object(w.jsx)("span",{children:"Funding Rate Annual"}),"  "]}),Object(w.jsx)("div",{className:"trade-dashboard-value",children:Object(w.jsx)("span",{className:"funding-per",children:Object(w.jsx)(l.a,{value:b.fundingRate0,displayType:"text",decimalScale:4,suffix:"%"})})})]}),Object(w.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(w.jsx)("div",{className:"trade-dashboard-title",children:"Total Net Position"}),Object(w.jsx)("div",{className:"trade-dashboard-value",children:b.tradersNetVolume})]}),Object(w.jsxs)("div",{className:"trade-dashboard-item latest-price",children:[Object(w.jsx)("div",{className:"trade-dashboard-title",children:"Pool Total liquidity"}),Object(w.jsxs)("div",{className:"trade-dashboard-value",children:[" ",Object(w.jsx)(l.a,{allowLeadingZeros:!0,value:b.liquidity||"--",displayType:"text",decimalScale:2})," ",d.bTokenSymbol]})]})]}),Object(w.jsx)("div",{className:"tradingview",children:Object(w.jsx)(A,{spec:d})})]})}var N=n(37),S=n(538),P=n(541),k=n(547),R=n(539),T=Object(S.a)(P.a),M=Object(S.a)(k.a);function D(e){var t=e.wallet,n=void 0===t?{}:t,o=e.spec,d=void 0===o?{}:o,u=Object(i.useState)({balanceContract:"-",averageEntryPrice:"-",marginHeld:"-",unrealizedPnl:"-",liquidationPrice:"-"}),h=Object(a.a)(u,2),p=h[0],b=h[1],m=Object(i.useState)(!1),_=Object(a.a)(m,2),j=_[0],f=_[1],v=Object(i.useState)(!1),y=Object(a.a)(v,2),O=y[0],g=y[1],x=Object(i.useState)(!1),I=Object(a.a)(x,2),A=I[0],C=I[1],S=Object(i.useState)(""),P=Object(a.a)(S,2),k=P[0],D=P[1];Object(R.a)(Z,3e3);var U=function(){Z()},L=U;function Z(){return W.apply(this,arguments)}function W(){return(W=Object(s.a)(r.a.mark((function e(){var t,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isConnected()||!d.pool){e.next=5;break}return e.next=3,Object(c.q)(n.detail.chainId,d.pool,n.detail.account);case 3:(t=e.sent)&&(i=+t.volume>0?"LONG":0==t.volume?"--":"SHORT",t.direction=i,t.balanceContract=+t.margin+ +t.unrealizedPnl,b(t));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=function(){var e=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isConnected()){e.next=5;break}return e.next=3,Object(c.y)(n.detail.chainId,d.pool,n.detail.account);case 3:(t=e.sent)&&D(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(s.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,Object(c.d)(n.detail.chainId,d.pool,n.detail.account).finally((function(){return f(!1)}));case 3:(t=e.sent).success?Z():"string"===typeof t.error?alert(t.error):"object"===Object(N.a)(t.error)?alert(t.error.errorMessage):alert("Liquidation failed");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){return Z(),E(),function(){}}),[n.detail.account,d.pool]),Object(w.jsxs)("div",{className:"position-box",children:[Object(w.jsxs)("div",{className:"p-box theader",children:[Object(w.jsx)("div",{children:"Position"}),Object(w.jsx)("div",{children:"Average Entry Price"}),Object(w.jsx)("div",{children:"Direction"}),Object(w.jsxs)("div",{children:["Balance in Contract",Object(w.jsx)("br",{}),"(Dynamic Balance)"]}),Object(w.jsx)("div",{children:"Margin"}),Object(w.jsx)("div",{children:"Unrealized PnL"}),Object(w.jsx)("div",{children:"Liquidation Price"})]}),Object(w.jsxs)("div",{className:"p-box tbody",children:[Object(w.jsxs)("div",{children:[p.volume,Object(w.jsxs)("span",{className:"close-position",children:[Object(w.jsx)("span",{className:"spinner spinner-border spinner-border-sm",style:{display:j?"block":"none"}}),Object(w.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAlCAYAAADFniADAAAACXBIWXMAAAsTAAALEwEAmpwYAAAF62lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wNC0wMlQxNTozODoxMyswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDQtMDZUMjA6MDU6MTIrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDQtMDZUMjA6MDU6MTIrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDlkYTVmMGQtZjBkZC0xYTRiLTlhNWUtZTBlNDMwZTI5OGI3IiB4bXBNTTpEb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6OGU2NWEzMTAtM2M4YS1jMDQ3LWIyMDAtZjZhYTZkMDlkNWRlIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6MDUwZmRhMGUtNTUyNC0wNjQxLTg1ZmYtYWUyNjAyODUxMzgzIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowNTBmZGEwZS01NTI0LTA2NDEtODVmZi1hZTI2MDI4NTEzODMiIHN0RXZ0OndoZW49IjIwMjEtMDQtMDJUMTU6Mzg6MTMrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ5ZGE1ZjBkLWYwZGQtMWE0Yi05YTVlLWUwZTQzMGUyOThiNyIgc3RFdnQ6d2hlbj0iMjAyMS0wNC0wNlQyMDowNToxMiswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4SuXJrAAACqElEQVRYhb3XTWjTYBgH8P+bJq+0TrbatZui4EG3irCNQXVM0CqeBA+CwvAk6EVEQfy4eRFPfiGK4EUGeqgX8aSC4vAiBYnSdkNHFUFh6qGvbWFKmzSJF1Mzl3RvPpr/8X2ekB8P7wMJkWUZudx3cWpqnVJk9MZYv3IOIedTXXzb1PB129rWQQCIIJsVj2Y3qQZABmLaZJHRNYMx7XmYoM29rfFUVE/PMWk4FdMfEVmWDWuTbgAlRq+HMTETZD2bZdJ9ocSke1aVQICRhHK2UKHXwgYpOjEaeuSVMJJQj8+GDLMDNTRiFNmqY5lkY1oAgDBhziB6JJNsTAOAYBbCgHUC7Ug1H7bfa23oJowXtAzVLdjHuviGF2SLChpWron5Lb2tDC/IERUUrFwT80N9rQk3oI4oE1Zi9K4XmFfQiigAGE0oJ4qM3nYD8wPiQgHAWEI5zQvzC+JG8cKCAAEAkWWZtxcAUGD01mhCOUUsZ7oBLPyKfNvYo633CwJcTMqM08SCAnlCOcGCAnlGmbCFRfGHXe1zXXzmFeQLVa6J+Q09rUG72nBc3f+uQi+FirLbMmsiBBhNKBe9wlyjHNZe/1CVXlrvmB+YK5QTqFQRD22Nq/v+v/xeYdyoTqDtA+pjwH4rvcC4UDwgM0HAVkS5AQUF64jyAgoC5ogq16TXXkF+Ybao+ao0M9SnTvoBLYFVpJu6RbYSbBlqvirNpOPqniBAbVi/eqbE6FVe2BJUN0D/YMoFXlgb1U2QW5gQFsgNLLLr8MnQQGYGY9qLIqOrU1FtJ/n7CSsQIBXVdhcrFALI0gd+t7oLMmM3McMADBBNSPepe99XpSdtEJMOdBtkB1N1ggKj58eTzcvtH4e5n9KDRZXkJgaUp2GArClU6BVVF75kUo07APAH3WicsIPb8YcAAAAASUVORK5CYII=",onClick:F})]})]}),Object(w.jsx)("div",{children:Object(w.jsx)(l.a,{value:p.averageEntryPrice,displayType:"text",decimalScale:2})}),Object(w.jsx)("div",{className:p.direction,children:p.direction}),Object(w.jsxs)("div",{children:[Object(w.jsx)(l.a,{value:p.balanceContract,displayType:"text",decimalScale:2}),Object(w.jsx)("span",{className:"open-add",onClick:function(){return g(!0)},children:Object(w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",children:Object(w.jsx)("path",{id:"login",d:"M13,9,7,4V7H0v4H7v3Zm3,7H8v2h8a2.006,2.006,0,0,0,2-2V2a2.006,2.006,0,0,0-2-2H8V2h8Z",transform:"translate(18) rotate(90)",fill:"#3ebf38"})})}),Object(w.jsx)("span",{className:"open-remove",onClick:function(){return C(!0)},children:Object(w.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",children:Object(w.jsx)("path",{id:"log-out","data-name":"log out",d:"M18,9,12,4V7H5v4h7v3ZM2,2h8V0H2A2.006,2.006,0,0,0,0,2V16a2.006,2.006,0,0,0,2,2h8V16H2Z",transform:"translate(0 18) rotate(-90)",fill:"#e35061"})})})]}),Object(w.jsx)("div",{children:Object(w.jsx)(l.a,{value:p.marginHeld,displayType:"text",decimalScale:2})}),Object(w.jsx)("div",{children:Object(w.jsx)(l.a,{value:p.unrealizedPnl,displayType:"text",decimalScale:8})}),Object(w.jsx)("div",{children:Object(w.jsx)(l.a,{value:p.liquidationPrice,displayType:"text",decimalScale:2})})]}),Object(w.jsx)("div",{className:"p-box tbody"}),Object(w.jsx)(T,{wallet:n,modalIsOpen:O,onClose:function(){return g(!1)},spec:d,afterDeposit:L,balance:k}),Object(w.jsx)(M,{wallet:n,modalIsOpen:A,onClose:function(){return C(!1)},spec:d,afterWithdraw:U})]})}var U=n(548),L=n.n(U);function Z(e){var t=e.wallet,n=e.spec,o=Object(i.useState)([]),d=Object(a.a)(o,2),u=d[0],h=d[1];return Object(i.useEffect)((function(){return function(){var e=Object(s.a)(r.a.mark((function e(){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConnected()||!n.pool){e.next=5;break}return e.next=3,Object(c.u)(t.detail.chainId,n.pool,t.detail.account);case 3:i=e.sent,h(i);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){}}),[t.detail.account,n]),Object(w.jsxs)("div",{className:"history-box",children:[Object(w.jsxs)("div",{className:"p-box theader",children:[Object(w.jsx)("div",{className:"td",children:"Time"}),Object(w.jsx)("div",{children:"Direction"}),Object(w.jsx)("div",{children:"Base Token"}),Object(w.jsx)("div",{children:"Price"}),Object(w.jsx)("div",{children:"Volume"}),Object(w.jsx)("div",{children:"Notional"}),Object(w.jsx)("div",{children:"Transaction Fee"})]}),u.map((function(e,t){return Object(w.jsxs)("div",{className:"p-box tbody",children:[Object(w.jsx)("div",{className:"td",children:L.a.asString("yyyy-MM-dd hh:mm:ss",new Date(parseInt(e.time)))}),Object(w.jsx)("div",{className:e.direction,children:"LONG"===e.direction?"".concat(e.direction," / BUY"):"".concat(e.direction," / SELL")}),Object(w.jsx)("div",{children:e.baseToken}),Object(w.jsx)("div",{children:Object(w.jsx)(l.a,{value:e.price,displayType:"text",decimalScale:2})}),Object(w.jsx)("div",{children:e.volume}),Object(w.jsx)("div",{children:e.notional}),Object(w.jsx)("div",{children:e.transactionFee})]},t)}))]})}function W(e){var t=e.wallet,n=e.spec,o=Object(i.useState)("position"),r=Object(a.a)(o,2),s=r[0],c=r[1],l=function(e){c(e)},d=x()("position-info",s);return Object(w.jsxs)("div",{className:d,children:[Object(w.jsxs)("div",{className:"position-header",children:[Object(w.jsxs)("div",{className:"position-title",children:[Object(w.jsx)("span",{className:"position-info-title",children:"POSITION INFO"}),Object(w.jsx)("span",{className:"history-info-title",children:"TRADE HISTORY"})]}),Object(w.jsxs)("div",{className:"check-position-history ",children:[Object(w.jsx)("div",{className:"btn-position",onClick:function(){return l("position")},children:"CURRENT POSITION"}),Object(w.jsx)("div",{className:"btn-history",onClick:function(){return l("history")},children:"TRADE HISTORY"})]})]}),Object(w.jsxs)("div",{className:"pos-his-info ",children:[Object(w.jsx)(D,{wallet:t,spec:n}),Object(w.jsx)(Z,{wallet:t,spec:n})]})]})}n(549);var E=n(542),F=n(133);t.default=Object(F.b)("wallet","indexPrice")(Object(F.c)((function(e){var t=e.wallet,n=e.specs,i=e.spec,o=e.onSpecChange,r=e.indexPrice;return Object(w.jsxs)("div",{className:"trade-pro",children:[Object(w.jsx)("div",{className:"left",children:Object(w.jsx)(E.a,{wallet:t,isPro:!0,spec:i,specs:n,indexPrice:r,onSpecChange:o})}),Object(w.jsxs)("div",{className:"right",children:[Object(w.jsx)(C,{wallet:t,spec:i,indexPrice:r}),Object(w.jsx)(W,{wallet:t,spec:i})]})]})})))},584:function(e,t,n){},592:function(e,t,n){"use strict";n.r(t);var i=n(91),o=n(15),r=n(3),s=n(557),a=n(550),c=n(535),l=n.n(c),d=n(133),u=(n(584),n(542)),h=n(35);t.default=Object(d.b)("wallet","indexPrice")(Object(d.c)((function(e){var t=e.wallet,n=e.indexPrice,c=Object(r.useState)("lite"),d=Object(o.a)(c,2),p=d[0],b=d[1],m=Object(r.useState)({}),_=Object(o.a)(m,2),j=_[0],f=_[1],v=Object(a.a)(t.detail),y=function(e){b(e),document.querySelector(".desktop").style.minWidth="pro"===e?"1920px":"inherit"},O=l()("trade-body",p);Object(r.useEffect)((function(){return j.symbol&&n.start(j.symbol),function(){}}),[j.symbol]),Object(r.useEffect)((function(){return v.length>0&&(f(v[0]),n.start(v[0].symbol)),function(){}}),[v]);var g={wallet:t,specs:v,spec:j,onSpecChange:function(e){n.pause(),f(e)},indexPrice:n};return Object(h.jsxs)("div",{className:O,children:[Object(h.jsxs)("div",{className:"check-lite-pro",children:[Object(h.jsx)("div",{className:"lite",onClick:function(){return y("lite")},children:"LITE"}),Object(h.jsx)("div",{className:"pro",onClick:function(){return y("pro")},children:" PRO"})]}),"lite"===p?Object(h.jsx)(u.a,Object(i.a)({},g)):Object(h.jsx)(s.default,Object(i.a)({},g))]})})))}}]);
//# sourceMappingURL=12.a6166a5d.chunk.js.map