(this["webpackJsonpapp.deri.finance"]=this["webpackJsonpapp.deri.finance"]||[]).push([[2],{128:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u}));var a=n(23),i=n.n(a);function r(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 0==t?i()(e):t>0?i()(e).times(i()("1"+"0".repeat(t))):i()(e).div(i()("1"+"0".repeat(-t)))}(e,-18)}function s(e){return e&&"".concat(e.substr(0,6),"...").concat(e.substr(-4))}function u(e){return e&&(+e).toFixed(4)}},129:function(e){e.exports=JSON.parse('{"prod":{"1":{"name":"Ethereum","text":"ETHEREUM","symbol":"ETH"},"56":{"name":"bsc","text":"BSC","symbol":"BNB"},"128":{"name":"heco","text":"HECO","symbol":"HT"}},"dev":{"3":{"name":"Ropsten","text":"ROPSTEN","symbol":"ETH"},"97":{"name":"Bsc-testnet","text":"BSC TESTNET","symbol":"BNB"},"256":{"name":"Heco-testnet","text":"HECO TESTNET","symbol":"HT"}}}')},130:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(7),i=n.n(a).a.createContext({walletContext:Object})},239:function(e,t,n){},253:function(e,t){},276:function(e,t){},278:function(e,t){},292:function(e,t){},293:function(e,t){},356:function(e,t){},358:function(e,t){},390:function(e,t){},395:function(e,t){},397:function(e,t){},404:function(e,t){},417:function(e,t){},435:function(e,t){},446:function(e,t){},449:function(e,t){},504:function(e,t,n){"use strict";n.r(t);var a=n(7),i=n.n(a),r=n(131),s=n.n(r),u=n(127),o=n(123),p=n(89),c=n(33),y=Object(p.a)((function(){return n.e(5).then(n.bind(null,553))})),d=Object(p.a)((function(){return n.e(6).then(n.bind(null,552))}));var l=function(){return o.isBrowser?Object(c.jsx)(y,{}):o.isMobile?Object(c.jsx)(d,{}):void 0},m=(n(239),n(130)),b=n(87),f=n(0),v=n.n(f),h=n(1),T=n(3),x=n(76),w=n(129),g=n(128),k="mm_wallet_key",M=w[x.a.get()],A=new function e(){var t=this;Object(T.a)(this,e),this.isConnected=function(){return window.ethereum.isConnected()},this.connect=Object(h.a)(v.a.mark((function e(){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.c)(null,(function(e){e||t.remove()}));case 2:return n=e.sent,e.abrupt("return",new Promise(function(){var e=Object(h.a)(v.a.mark((function e(a,i){var r,s,u;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.success){e.next=9;break}return r=n.chainId,s=n.account,e.next=4,t.set(r,s);case 4:u=e.sent,window.ethereum.on("disconnect",t.remove),a(u),e.next=10;break;case 9:i(null);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}}),e)}))),this.set=function(){var e=Object(h.a)(v.a.mark((function e(n,a){var i,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.n)(n,a);case 2:return i=e.sent,r={chainId:n,account:a,balance:i,formatBalance:Object(g.c)(i)},M[n]&&Object.assign(r,Object(b.a)(Object(b.a)({},M[n]),{},{supported:!0})),t.wallet=r,sessionStorage.setItem(k,JSON.stringify(r)),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.get=function(){return t.wallet},this.remove=function(){t.wallet=null,sessionStorage.removeItem(k),window.location.reload()},this.wallet=JSON.parse(sessionStorage.getItem(k))};s.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(u.a,{children:Object(c.jsx)(m.a.Provider,{value:{walletContext:A},children:Object(c.jsx)(l,{})})})}),document.getElementById("root"))},76:function(e,t,n){"use strict";n.d(t,"o",(function(){return U})),n.d(t,"c",(function(){return q})),n.d(t,"n",(function(){return L})),n.d(t,"k",(function(){return Ie})),n.d(t,"f",(function(){return Se})),n.d(t,"p",(function(){return Re})),n.d(t,"s",(function(){return Pe})),n.d(t,"b",(function(){return Ue})),n.d(t,"r",(function(){return qe})),n.d(t,"q",(function(){return Le})),n.d(t,"l",(function(){return De})),n.d(t,"h",(function(){return Fe})),n.d(t,"g",(function(){return Be})),n.d(t,"j",(function(){return _e})),n.d(t,"m",(function(){return Ee})),n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return y})),n.d(t,"e",(function(){return l})),n.d(t,"i",(function(){return m}));var a=n(0),i=n.n(a),r=n(40),s=n(1),u=n(19),o=n.n(u),p=n(23),c=n.n(p),y=function(){var e="dev";return{get:function(){return e},set:function(t){if("dev"!==t&&"prod"!==t&&"production"!==t)throw new Error("please use 'dev' or 'prod' for DeriEnv");e=t}}}(),d=[{provider_urls:["https://mainnet.infura.io/v3/be8f2596352a4ea2986472ec46f5c6e1","https://mainnet.infura.io/v3/2ded4661ec3d4e6f9bb1c9a27a160436","https://mainnet.infura.io/v3/ec73e2f0c79a42c0997ee535364de584"],chainId:"1"},{provider_urls:["https://bsc-dataseed.binance.org","https://bsc-dataseed1.defibit.io/","https://bsc-dataseed1.ninicoin.io/"],chainId:"56"},{provider_urls:["https://http-mainnet.hecochain.com"],chainId:"128"},{provider_urls:["https://ropsten.infura.io/v3/2ded4661ec3d4e6f9bb1c9a27a160436","https://ropsten.infura.io/v3/be8f2596352a4ea2986472ec46f5c6e1","https://ropsten.infura.io/v3/ec73e2f0c79a42c0997ee535364de584"],chainId:"3"},{provider_urls:["https://kovan.infura.io/v3/be8f2596352a4ea2986472ec46f5c6e1","https://kovan.infura.io/v3/2ded4661ec3d4e6f9bb1c9a27a160436","https://kovan.infura.io/v3/ec73e2f0c79a42c0997ee535364de584"],chainId:"42"},{provider_urls:["https://data-seed-prebsc-2-s3.binance.org:8545/","https://data-seed-prebsc-1-s1.binance.org:8545/","https://data-seed-prebsc-2-s1.binance.org:8545/","https://data-seed-prebsc-1-s2.binance.org:8545/","https://data-seed-prebsc-2-s2.binance.org:8545/","https://data-seed-prebsc-1-s3.binance.org:8545/"],chainId:"97"},{provider_urls:["https://http-testnet.hecochain.com"],chainId:"256"}],l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dev";return"prod"===e?[{pool:"0x639a9C2fAe976D089dCcc2ffAE51Ef1dd04B7985",bToken:"0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56",pToken:"0x3c11c4990447F0AD575eBd74E8cD17bf61848A15",lToken:"0xA487bF43cF3b10dffc97A9A744cbB7036965d3b9",dToken:"0xA487bF43cF3b10dffc97A9A744cbB7036965d3b9",MiningVault:"0x6C8d3F31b2ad1AE997Afa20EAd88cb67E93C6E17",initialBlock:"5552805",bTokenSymbol:"BUSD",symbol:"BTCUSD",chainId:"56"},{pool:"0x011346B81e5326904B5B76A11dECAf2c67eFFc23",bToken:"0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56",pToken:"0xaE6429b4CDDDFefDB6ac702183c836B4e62Da410",lToken:"0xd8f78c47b0e0943B3Cb2cE1e1726472C4ddd2F98",dToken:"0xA487bF43cF3b10dffc97A9A744cbB7036965d3b9",MiningVault:"0x6C8d3F31b2ad1AE997Afa20EAd88cb67E93C6E17",initialBlock:"6759703",bTokenSymbol:"BUSD",symbol:"COIN",chainId:"56"},{pool:"0x3C2970466635AAeFEd1cfe630D051Fa6D281aEbB",bToken:"0xdAC17F958D2ee523a2206206994597C13D831ec7",pToken:"0x9c6134F9e759C6812aaC102FC1a9f7cA5615fD33",lToken:"0x43CA6D7129d7F490d5B91B4D14D7c877D15A92dA",dToken:"0xA487bF43cF3b10dffc97A9A744cbB7036965d3b9",MiningVault:"0x7826Ef8Da65494EA21D64D8E6A76AB1BED042FD8",initialBlock:"11949485",bTokenSymbol:"USDT",symbol:"BTCUSD",chainId:"1"},{pool:"0x7137cc9f252dc405dadc35F597dA8B32e8653603",bToken:"0x3449FC1Cd036255BA1EB19d65fF4BA2b8903A69a",pToken:"0x15aD9b67cf54037127fD986Ca3bB775f9FC4ad05",lToken:"0xeC27d4c53C2E29F1113A9667c0B19442df83c1f1",dToken:"0xA487bF43cF3b10dffc97A9A744cbB7036965d3b9",MiningVault:"0x7826Ef8Da65494EA21D64D8E6A76AB1BED042FD8",initialBlock:"11860122",bTokenSymbol:"BAC",symbol:"BTCUSD",chainId:"1"},{pool:"0x9b404BAB12CE0D5039e7313d9e24f4b5c8E8E8e3",bToken:"0x0298c2b32eaE4da002a15f36fdf7615BEa3DA047",pToken:"0x732Ba556B304fd74Cd14b74ab8762A7D9f26d476",lToken:"0x90fE976Cbb48E0761A84DDA2974024377994a997",dToken:"0xA487bF43cF3b10dffc97A9A744cbB7036965d3b9",MiningVault:"0xF0bC8b772f26F8DeB46c1aebbEA7C8d502Abf3b8",initialBlock:"2558057",bTokenSymbol:"HUSD",symbol:"BTCUSD",chainId:"128"}]:[{bToken:"0x8F038C454B6E68B2988706a1a5f78dE2C4634097",pToken:"0xad794Adc3Ed6085A79Ba3e2FCD13Df8d33d462Ec",lToken:"0x37732230ac101f59490762Ef73Be43B5E5Ec4949",pool:"0x67eE8f0CB17e750219Bd58d433D52ab4B3d8A081",initialBlock:"9986748",bTokenSymbol:"USDT",symbol:"BTCUSD",chainId:"3"},{pool:"0xFFe402106E8F73F0A44C7350C2b734e048f448f2",bToken:"0xa0354a4bB59657ad9A2b3eeC4f53f7A6Fb171DD1",pToken:"0x5FeF67FD24f37b90E0c96324380F63413dF22f78",lToken:"0xCdDbf76F76B9F95135F5D531fefc344258ff322a",initialBlock:"7796732",bTokenSymbol:"BUSD",symbol:"BTCUSD",chainId:"97"},{pool:"0x02A614844212f71049c469902F7A20F6540a2792",bToken:"0xa0354a4bB59657ad9A2b3eeC4f53f7A6Fb171DD1",pToken:"0x4396025914025F1C8B74788bF7c64f879064FbA6",lToken:"0x2E80928a9eC105FE79cfC4B54c65d185AC3b7E9C",initialBlock:"8108595",bTokenSymbol:"BUSD",symbol:"COIN",chainId:"97"},{pool:"0xE5a4fCd3CE3a824bF15D5FABd390cF44E83AbE8B",bToken:"0x02c9840fD044abFd58E9674ecc232e8b1F323fE8",pToken:"0xfa803C4528A1b9f91DFc5f8b4ff940f9FE4F4635",lToken:"0xbD57300A178075F774b5F0F9f367B9A2912b7b5e",initialBlock:"3663362",bTokenSymbol:"HUSD",symbol:"BTCUSD",chainId:"256"}]},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dev";return"prod"===e?[{pool:"0xc2EdaD668740f1aA35E4D8f227fB8E17dcA888Cd",bToken:"0xA3DfbF2933FF3d96177bde4928D0F5840eE55600",pToken:"0x0000000000000000000000000000000000000000",lToken:"0x0000000000000000000000000000000000000000",dToken:"0xA487bF43cF3b10dffc97A9A744cbB7036965d3b9",MiningVault:"0x7826Ef8Da65494EA21D64D8E6A76AB1BED042FD8",chainId:"1",bTokenSymbol:"DERI-USDT SLP ONSEN"}]:(console.log("getSlpContractAddressConfig(): no config for dev environment"),[])},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dev",t=arguments.length>1?arguments[1]:void 0;return"prod"!==e&&"production"!==e||!t?"0x7C1267188379f57d92e640E519151229E1eA5565":"0x824B6238EdCbaCCAF83C3F60C0cEB38bEb7C9e89"},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dev",t=arguments.length>1?arguments[1]:void 0;return"prod"!==e&&"production"!==e||!t?"0x3c9118C7f9f4ef0Ab5333cD710922dBCCC2d870d":"0xd8137F05c1F432A80525053c473d0e286c4F46f0"};c.a.config({DECIMAL_PLACES:18,ROUNDING_MODE:c.a.ROUND_DOWN,EXPONENTIAL_AT:256});var v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 0===t?c()(e):t>0?c()(e).times(c()("1".concat("0".repeat(t)))):c()(e).div(c()("1".concat("0".repeat(-t))))},h=function(e,t){return e.gte(t)?e:t},T=function(e){return o.a.utils.toChecksumAddress(e)},x=function(e){return o.a.utils.hexToNumber(e)},w=function(e){return v(e,18).toFixed(0)},g=function(e){return v(e,-18)},k=function(e){return v(e).toString()},M=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((function(e){return isNaN(e.toString())||"0"===e.toString()}))},A=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:if(!e.sent.ok){e.next=6;break}return e.abrupt("return",!0);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n,a,r=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.length>0&&void 0!==r[0]?r[0]:[],n=0;case 2:if(!(n<t.length)){e.next=11;break}return a=t[n],e.next=6,A(a);case 6:if(!e.sent){e.next=8;break}return e.abrupt("return",a);case 8:n++,e.next=2;break;case 11:throw new Error("No alive http server");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C="0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",j=function(e){var t;switch(e=S(e)){case"1":t="ethereum";break;case"56":t="bsc";break;case"128":t="heco";break;case"3":t="ropsten";break;case"42":t="kovan";break;case"97":t="bsctestnet";break;case"256":t="hecotestnet";break;default:throw new Error("The networkId is not valid")}return t},D=function(e,t){e=S(e);var n=l(y.get()).filter((function(t){return t.chainId===e})).filter((function(e){return e.pool===t}));return n.length>0?{poolAddress:n[0].pool,bTokenAddress:n[0].bToken,pTokenAddress:n[0].pToken,lTokenAddress:n[0].lToken,dTokenAdress:n[0].dToken,MinningVaultAddress:n[0].MiningVault,bTokenSymbol:n[0].bTokenSymbol,symbol:n[0].symbol,initialBlock:n[0].initialBlock}:(console.log("getPoolContractAddress(): contract address is not found: ".concat(e," ").concat(t)),[])},F=function(e){e=S(e);var t=l(y.get()).filter((function(t){return t.chainId===e}));if(t.length>0&&t[0].MiningVault)return t[0].MiningVault},B=function(e){e=S(e);var t=function(){return"prod"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dev")?[{Deri:"0xA487bF43cF3b10dffc97A9A744cbB7036965d3b9",Wormhole:"0x6874640cC849153Cb3402D193C33c416972159Ce",bTokenSymbol:"DERI",chainId:"1"},{Deri:"0xe60eaf5A997DFAe83739e035b005A33AfdCc6df5",Wormhole:"0x15a5969060228031266c64274a54e02Fbd924AbF",bTokenSymbol:"DERI",chainId:"56"},{Deri:"0x2bdA3e331Cf735D9420e41567ab843441980C4B8",Wormhole:"0x134A04497e9a0b1F8850fEaf87eD18ec348dDa46",bTokenSymbol:"DERI",chainId:"128"}]:[{Deri:"0x88Fe79a3b6AC7EeF3d55B2e388fa18400590698B",Wormhole:"0xcb28Fa7dFa1844Cdb47aD5f03484f6131293Fd2e",bTokenSymbol:"DERI",chainId:"3"},{Deri:"0x8dC0aA48bbc69BaCD2548c6b7adCDeF8DDbA50B2",Wormhole:"0x9028e43114Df57C97c15355224E575DF1e244919",bTokenSymbol:"DERI",chainId:"97"},{Deri:"0x932458a637F8060AF747167656651b64d4c36620",Wormhole:"0x629B0D3D32BE5ee5F7BF3845914d26446c04165d",bTokenSymbol:"DERI",chainId:"256"}]}(y.get()).filter((function(t){return t.chainId===e}));return t.length>0?{deriAddress:t[0].Deri,wormholeAddress:t[0].Wormhole,bTokenSymbol:t[0].bTokenSymbol}:(console.log("getDeriContractAddress(): contract address is not found: ".concat(e)),{})},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dev",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=D(t,n),i=a.symbol,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"BTCUSD";return"".concat(e,"?symbol=").concat(t)};return"prod"===e||"production"===e?i?r("COIN"===i?"https://oracle3.deri.finance/price":"https://oracle.deri.finance/price",i):"https://oracle.deri.finance/price":i?r("https://oracle2.deri.finance/price",i):"https://oracle2.deri.finance/price"},E=function(){var e=Object(s.a)(i.a.mark((function e(t,n){var a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=_(y.get(),t,n),e.next=4,fetch(a);case 4:return r=e.sent,e.next=7,r.json();case 7:return s=e.sent,e.abrupt("return",g(s.price));case 11:e.prev=11,e.t0=e.catch(0),console.log("fetch BTCUSD price error: ".concat(e.t0));case 14:return e.abrupt("return","0");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(s.a)(i.a.mark((function e(t,n){var a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=_(y.get(),t,n),console.log("oracle url",a),e.next=5,fetch(a);case 5:return r=e.sent,e.next=8,r.json();case 8:return s=e.sent,e.abrupt("return",s);case 12:e.prev=12,e.t0=e.catch(0),console.log("fetch Oracle info error: ".concat(e.t0));case 15:return e.abrupt("return",{});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}(),S=function(e){var t=e;return"number"===typeof e&&(t=e.toString()),t},R=function(){var e=null;return function(){if(null!==e)return e;var t;if(void 0===Object(r.a)(window.ethereum))throw new Error("Please install MetaMask first");return t=new o.a(window.ethereum),e=t,t}}(),P=function(){var e={};return function(t){if(Object.keys(e).includes(t))return e[t];console.log("==== web3Factory(".concat(t,"), please caution the access limits ==="));var n=function(e){e=S(e);var t=d.filter((function(t){return t.chainId===e}));if(1!==t.length)throw new Error("Cannot find the chain provider url with chainId: ".concat(e));try{return t[0].provider_urls[0]}catch(n){throw new Error("Cannot find the alive chain provider url with chainId: ".concat(e))}}(t),a=new o.a(new o.a.providers.HttpProvider(n));return e[t]=a,a}}(),U=function(){return window.ethereum&&window.ethereum.isMetaMask?{success:!0,isMetaMask:!0}:{success:!1,error:"The browser is not support ethereum wallet, please install MetaMask to proceed."}},q=function(){var e=Object(s.a)(i.a.mark((function e(t,n){var a,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===Object(r.a)(window.ethereum)){e.next=13;break}return e.next=3,window.ethereum.request({method:"eth_requestAccounts"});case 3:return a=e.sent,e.t0=x,e.next=7,window.ethereum.request({method:"eth_chainId"});case 7:return e.t1=e.sent,s=(0,e.t0)(e.t1),u=Array.isArray(a)&&a[0],window.ethereum.on("accountsChanged",(function(e){var t;t=e.length>0?e[0]:"","function"===typeof n?n(t):window.location.reload()})),window.ethereum.on("chainChanged",(function(e){var n=x(e);"function"===typeof t?t(n):window.location.reload()})),e.abrupt("return",{success:!0,account:u,chainId:s});case 13:return e.abrupt("return",{success:!1,error:"Cannot connect wallet, please install MetaMask."});case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),L=function(){var e=Object(s.a)(i.a.mark((function e(t,n){var a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=R(),e.next=3,a.eth.getBalance(n);case 3:return r=e.sent,s=o.a.utils.fromWei(r),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=n(14),V=n(226),H=n(41),W=n(3),G=n(4),z=n(10),J=n(9),Y=532731,X=function(){function e(t,n,a){Object(W.a)(this,e),this.chainId=t,this.contractAddress=n,this.web3=a?P(t):R()}return Object(G.a)(e,[{key:"setAccount",value:function(e){return this.accountAddress=e,this}},{key:"setPool",value:function(e){return this.poolAddress=e,this}},{key:"_call",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var n,a,r=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:[],e.next=3,(n=this.contract.methods)[t].apply(n,Object(H.a)(a)).call();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_estimatedGas",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var n,a,r,s,u,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=o.length>1&&void 0!==o[1]?o[1]:[],a=o.length>2?o[2]:void 0,r=0,s=0;case 4:if(!(s<20)){e.next=18;break}return e.prev=5,e.next=8,(u=this.contract.methods)[t].apply(u,Object(H.a)(n)).estimateGas({from:a});case 8:return r=e.sent,r=parseInt(1.25*r),e.abrupt("break",18);case 13:e.prev=13,e.t0=e.catch(5);case 15:s++,e.next=4;break;case 18:return 0==r&&(r=Y),r>Y&&(r=Y),e.abrupt("return",r);case 21:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_getTransactionReceipt",value:function(e){var t=this;return function n(a,i){t.web3.eth.getTransactionReceipt(e,(function(e,t){e?i(e):null===t?setTimeout((function(){return n(a,i)}),500):!1===t.status?(t.errorMessage="Transaction failed",i(t)):a(t)}))}}},{key:"_transact",value:function(){var e=Object(s.a)(i.a.mark((function e(t,n,a){var r,s,u,p,c,y;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._estimatedGas(t,n,a),this.web3.eth.getGasPrice()]);case 2:return s=e.sent,u=Object(N.a)(s,2),p=u[0],u[1],c=[{from:a,to:this.contractAddress,gas:o.a.utils.numberToHex(p),value:o.a.utils.numberToHex("0"),data:(r=this.contract.methods)[t].apply(r,Object(H.a)(n)).encodeABI()}],e.next=9,window.ethereum.request({method:"eth_sendTransaction",params:c});case 9:return y=e.sent,e.next=12,new Promise(this._getTransactionReceipt(y));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()}]),e}(),K=function(e,t,n,a,i){return v(e*t*n/a*i).abs()},Q=function(e,t,n,a,i){return e*t*n/a*i},Z=function(e,t){var n=function(e){var t={1:"2367422",56:"10497304",128:"10511369",3:"2367422",97:"10497304",256:"10511369"};if(t[e])return parseInt(t[e]);console.log("cannot find the annual block number with chainId: ".concat(e))}(e);return console.log(n),v(t).times(n)},$=function(e,t){return e.eq(0)?v(0):t.div(e)},ee=function(e,t,n,a,i,r,s,u){var o,p,c=$(t,n),y=a.times(u).times(r),d=n.plus(i).minus(y).minus(y.abs().times(s));return h((o=e,p=d.div(c),o.lte(p)?o:p),v(0))},te=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"lShares",type:"uint256"},{indexed:!1,internalType:"uint256",name:"bAmount",type:"uint256"}],name:"AddLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"bAmount",type:"uint256"}],name:"DepositMargin",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"migrationTimestamp",type:"uint256"},{indexed:!1,internalType:"address",name:"source",type:"address"},{indexed:!1,internalType:"address",name:"target",type:"address"}],name:"ExecuteMigration",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"int256",name:"volume",type:"int256"},{indexed:!1,internalType:"int256",name:"cost",type:"int256"},{indexed:!1,internalType:"uint256",name:"margin",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"},{indexed:!1,internalType:"address",name:"liquidator",type:"address"},{indexed:!1,internalType:"uint256",name:"reward",type:"uint256"}],name:"Liquidate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"migrationTimestamp",type:"uint256"},{indexed:!1,internalType:"address",name:"source",type:"address"},{indexed:!1,internalType:"address",name:"target",type:"address"}],name:"PrepareMigration",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"lShares",type:"uint256"},{indexed:!1,internalType:"uint256",name:"bAmount",type:"uint256"}],name:"RemoveLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"int256",name:"tradeVolume",type:"int256"},{indexed:!1,internalType:"uint256",name:"price",type:"uint256"}],name:"Trade",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"bAmount",type:"uint256"}],name:"WithdrawMargin",type:"event"},{inputs:[{internalType:"uint256",name:"bAmount",type:"uint256"}],name:"addLiquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"bAmount",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"addLiquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"approveMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"bAmount",type:"uint256"}],name:"depositMargin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"bAmount",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"depositMargin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"source",type:"address"}],name:"executeMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getAddresses",outputs:[{internalType:"address",name:"bToken",type:"address"},{internalType:"address",name:"pToken",type:"address"},{internalType:"address",name:"lToken",type:"address"},{internalType:"address",name:"oracle",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getParameters",outputs:[{internalType:"uint256",name:"multiplier",type:"uint256"},{internalType:"uint256",name:"feeRatio",type:"uint256"},{internalType:"uint256",name:"minPoolMarginRatio",type:"uint256"},{internalType:"uint256",name:"minInitialMarginRatio",type:"uint256"},{internalType:"uint256",name:"minMaintenanceMarginRatio",type:"uint256"},{internalType:"uint256",name:"minAddLiquidity",type:"uint256"},{internalType:"uint256",name:"redemptionFeeRatio",type:"uint256"},{internalType:"uint256",name:"fundingRateCoefficient",type:"uint256"},{internalType:"uint256",name:"minLiquidationReward",type:"uint256"},{internalType:"uint256",name:"maxLiquidationReward",type:"uint256"},{internalType:"uint256",name:"liquidationCutRatio",type:"uint256"},{internalType:"uint256",name:"priceDelayAllowance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getStateValues",outputs:[{internalType:"int256",name:"cumuFundingRate",type:"int256"},{internalType:"uint256",name:"cumuFundingRateBlock",type:"uint256"},{internalType:"uint256",name:"liquidity",type:"uint256"},{internalType:"int256",name:"tradersNetVolume",type:"int256"},{internalType:"int256",name:"tradersNetCost",type:"int256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"symbol_",type:"string"},{internalType:"address[4]",name:"addresses_",type:"address[4]"},{internalType:"uint256[12]",name:"parameters_",type:"uint256[12]"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"liquidate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"liquidate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"migrationDestination",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"migrationTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newPool",type:"address"},{internalType:"uint256",name:"graceDays",type:"uint256"}],name:"prepareMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"lShares",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"removeLiquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"lShares",type:"uint256"}],name:"removeLiquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newController",type:"address"}],name:"setController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int256",name:"tradeVolume",type:"int256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"trade",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int256",name:"tradeVolume",type:"int256"}],name:"trade",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int256",name:"tradeVolume",type:"int256"},{internalType:"uint256",name:"bAmount",type:"uint256"}],name:"tradeWithMargin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int256",name:"tradeVolume",type:"int256"},{internalType:"uint256",name:"bAmount",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"tradeWithMargin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"bAmount",type:"uint256"}],name:"withdrawMargin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"bAmount",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint256",name:"price",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"withdrawMargin",outputs:[],stateMutability:"nonpayable",type:"function"}],ne=function(e){Object(z.a)(n,e);var t=Object(J.a)(n);function n(e,a,i){var r;return Object(W.a)(this,n),(r=t.call(this,e,a,i)).contract=new r.web3.eth.Contract(te,r.contractAddress),r}return Object(G.a)(n,[{key:"symbol",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._call("symbol");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getStateValues",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v(0),e.prev=1,e.next=4,this._call("getStateValues");case 4:a=e.sent,t={cumuFundingRate:g(a.cumuFundingRate),cumuFundingRateBlock:v(a.cumuFundingRateBlock),liquidity:g(a.liquidity),tradersNetVolume:g(a.tradersNetVolume),tradersNetCost:g(a.tradersNetCost)},e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t={cumuFundingRate:n,cumuFundingRateBlock:n,liquidity:n,tradersNetCost:n,tradersNetVolume:n},console.log("getStateValues: ".concat(e.t0));case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getParameters",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v(0),e.prev=1,e.next=4,this._call("getParameters");case 4:a=e.sent,t={multiplier:g(a.multiplier),feeRatio:g(a.feeRatio),minPoolMarginRatio:g(a.minPoolMarginRatio),minInitialMarginRatio:g(a.minInitialMarginRatio),minMaintenanceMarginRatio:g(a.minMaintenanceMarginRatio),minAddLiquidity:g(a.minAddLiquidity),redemptionFeeRatio:g(a.redemptionFeeRatio),fundingRateCoefficient:g(a.fundingRateCoefficient),minLiquidationReward:g(a.minLiquidationReward),maxLiquidationReward:g(a.maxLiquidationReward),liquidationCutRatio:g(a.liquidationCutRatio),priceDelayAllowance:v(a.priceDelayAllowance)},e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t={multiplier:n,feeRatio:n,minPoolMarginRatio:n,minInitialMarginRatio:n,minMaintenanceMarginRatio:n,minAddLiquidity:n,redemptionFeeRatio:n,fundingRateCoefficient:n,minLiquidationReward:n,maxLiquidationReward:n,liquidationCutRatio:n,priceDelayAllowance:n},console.log("getParameters: ".concat(e.t0));case 12:return e.abrupt("return",t);case 13:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"_getTransactionReceipt",value:function(e){var t=this;return function n(a,i){t.web3.eth.getTransactionReceipt(e,(function(e,t){e?i(e):null==t?setTimeout((function(){return n(a,i)}),500):!1===t.status?(t.errorMessage="Transaction failed",i(t)):a(t)}))}}},{key:"_estimatedGas",value:function(){var e=Object(s.a)(i.a.mark((function e(t,n,a){var r,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0,s=0;case 2:if(!(s<20)){e.next=16;break}return e.prev=3,e.next=6,(u=this.contract.methods)[t].apply(u,Object(H.a)(n)).estimateGas({from:a});case 6:return r=e.sent,r=parseInt(1.25*r),e.abrupt("break",16);case 11:e.prev=11,e.t0=e.catch(3);case 13:s++,e.next=2;break;case 16:return 0==r&&(r=532731),r>532731&&(r=532731),e.abrupt("return",r);case 19:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"_transactPool",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var n,a,r,s,u,p,c,y,d,l,m,b=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=b.length>1&&void 0!==b[1]?b[1]:[],r=b.length>2?b[2]:void 0,e.next=4,I(this.chainId,this.contractAddress);case 4:return s=e.sent,u=[s.timestamp,s.price,s.v,s.r,s.s],e.next=8,Promise.all([this._estimatedGas(t,[].concat(Object(H.a)(a),u),r),this.web3.eth.getGasPrice()]);case 8:return p=e.sent,c=Object(N.a)(p,2),y=c[0],d=c[1],console.log("gasPrice ".concat(d/1e9," GW")),l=[{from:r,to:this.contractAddress,gas:o.a.utils.numberToHex(y),value:o.a.utils.numberToHex("0"),data:(n=this.contract.methods)[t].apply(n,Object(H.a)(a).concat(u)).encodeABI()}],e.next=16,window.ethereum.request({method:"eth_sendTransaction",params:l});case 16:return m=e.sent,e.next=19,new Promise(this._getTransactionReceipt(m));case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFundingRate",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t,n,a,r,s,u,o,p,c,y,d,l,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(this.chainId,this.contractAddress);case 2:return t=e.sent,e.prev=3,e.next=6,this.getStateValues();case 6:return s=e.sent,u=s.tradersNetVolume,o=s.liquidity,e.next=11,this.getParameters();case 11:return p=e.sent,c=p.multiplier,y=p.fundingRateCoefficient,d=p.minPoolMarginRatio,M.apply(void 0,l=[u,t,c,o,y])?(n="0",a="0"):(a=Q.apply(void 0,l),n=Z(this.chainId,a)),r=M.apply(void 0,m=[u,t,c,o,d])?"0":K.apply(void 0,m),e.abrupt("return",{price:t,multiplier:c.toString(),fundingRate:n,fundingRatePerBlock:a,tradersNetVolume:u.toString(),liquidity:o.toString(),fundingRateCoefficient:y.toString(),liquidityUsed:r,poolMarginRatio:d.toString()});case 22:throw e.prev=22,e.t0=e.catch(3),console.log("PerpetualPool#gerFundingRate():",e.t0),e.t0;case 26:case"end":return e.stop()}}),e,this,[[3,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"depositMargin",value:function(){var e=Object(s.a)(i.a.mark((function e(t,n){var a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("depositMargin"),e.prev=1,e.next=4,this._transactPool("depositMargin(uint256,uint256,uint256,uint8,bytes32,bytes32)",[n],t);case 4:r=e.sent,a={success:!0,transaction:r},e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("here"),a={success:!1,error:e.t0};case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getBlockInfo",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.web3.eth.getBlock(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getPastEvents",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var n,a,r,s,u,o,p,c,y=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=y.length>1&&void 0!==y[1]?y[1]:{},a=y.length>2&&void 0!==y[2]?y[2]:0,r=y.length>3&&void 0!==y[3]?y[3]:0,s=[];case 4:if(!(a<=r)){e.next=13;break}return e.next=7,this.contract.getPastEvents(t,{filter:n,fromBlock:a,toBlock:a+4999});case 7:u=e.sent,o=Object(V.a)(u);try{for(o.s();!(p=o.n()).done;)c=p.value,s.push(c)}catch(i){o.e(i)}finally{o.f()}a+=5e3,e.next=4;break;case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_getTimeStamp",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.web3.eth.getBlock(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_calculateFee",value:function(e,t,n,a){return v(e).abs().times(t).times(n).times(a).toString()}}]),n}(X),ae=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_upgradedAddress",type:"address"}],name:"deprecate",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"deprecated",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_evilUser",type:"address"}],name:"addBlackList",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"upgradedAddress",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"balances",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"maximumFee",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"_totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"unpause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"account",type:"address"},{name:"amount",type:"uint256"}],name:"mint",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_maker",type:"address"}],name:"getBlackListStatus",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"address"}],name:"allowed",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"paused",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"who",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"pause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getOwner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newBasisPoints",type:"uint256"},{name:"newMaxFee",type:"uint256"}],name:"setParams",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"amount",type:"uint256"}],name:"issue",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"amount",type:"uint256"}],name:"redeem",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"basisPointsRate",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"isBlackListed",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_clearedUser",type:"address"}],name:"removeBlackList",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"MAX_UINT",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_blackListedUser",type:"address"}],name:"destroyBlackFunds",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{name:"_name",type:"string"},{name:"_symbol",type:"string"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"amount",type:"uint256"}],name:"Issue",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"amount",type:"uint256"}],name:"Redeem",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"newAddress",type:"address"}],name:"Deprecate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"feeBasisPoints",type:"uint256"},{indexed:!1,name:"maxFee",type:"uint256"}],name:"Params",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_blackListedUser",type:"address"},{indexed:!1,name:"_balance",type:"uint256"}],name:"DestroyedBlackFunds",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_user",type:"address"}],name:"AddedBlackList",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_user",type:"address"}],name:"RemovedBlackList",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"}],ie=function(e){Object(z.a)(n,e);var t=Object(J.a)(n);function n(e,a,i,r){var s;return Object(W.a)(this,n),(s=t.call(this,e,a,r)).poolAddress=i,s.contract=new s.web3.eth.Contract(ae,s.contractAddress),s}return Object(G.a)(n,[{key:"isUnlocked",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._call("allowance",[t,this.poolAddress]);case 2:return n=e.sent,n=g(n),e.abrupt("return",n.gt(0));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unlock",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._transact("approve",[this.poolAddress,C],t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"symbol",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._call("symbol");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"decimals",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._call("decimals");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_balance",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._call("balanceOf",[t]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"balance",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var n,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._balance(t),this.decimals()]);case 2:return n=e.sent,a=Object(N.a)(n,2),r=a[0],s=a[1],e.abrupt("return",v(r,-s));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(X),re=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"int256",name:"volume",type:"int256"},{indexed:!1,internalType:"int256",name:"cost",type:"int256"},{indexed:!1,internalType:"int256",name:"lastCumuFundingRate",type:"int256"},{indexed:!1,internalType:"uint256",name:"margin",type:"uint256"},{indexed:!1,internalType:"uint256",name:"lastUpdateTimestamp",type:"uint256"}],name:"Update",type:"event"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"exists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"exists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"getPosition",outputs:[{internalType:"int256",name:"volume",type:"int256"},{internalType:"int256",name:"cost",type:"int256"},{internalType:"int256",name:"lastCumuFundingRate",type:"int256"},{internalType:"uint256",name:"margin",type:"uint256"},{internalType:"uint256",name:"lastUpdateTimestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getPosition",outputs:[{internalType:"int256",name:"volume",type:"int256"},{internalType:"int256",name:"cost",type:"int256"},{internalType:"int256",name:"lastCumuFundingRate",type:"int256"},{internalType:"uint256",name:"margin",type:"uint256"},{internalType:"uint256",name:"lastUpdateTimestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"margin",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newPool",type:"address"}],name:"setPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalMinted",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"int256",name:"volume",type:"int256"},{internalType:"int256",name:"cost",type:"int256"},{internalType:"int256",name:"lastCumuFundingRate",type:"int256"},{internalType:"uint256",name:"margin",type:"uint256"},{internalType:"uint256",name:"lastUpdateTimestamp",type:"uint256"}],name:"update",outputs:[],stateMutability:"nonpayable",type:"function"}],se=function(e){Object(z.a)(n,e);var t=Object(J.a)(n);function n(e,a,i,r){var s;return Object(W.a)(this,n),(s=t.call(this,e,a,r)).poolAddress=i,s.contract=new s.web3.eth.Contract(re,s.contractAddress),s}return Object(G.a)(n,[{key:"getPositionInfo",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.prev=1,e.next=4,this._call("getPosition(address)",[t]);case 4:a=e.sent,n={volume:g(a[0]),cost:g(a[1]),lastCumuFundingRate:g(a[2]),margin:g(a[3]),lastUpdateTimestamp:v(a[4])},e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),n={volume:v(0),cost:v(0),lastCumuFundingRate:v(0),margin:v(0),lastUpdateTimestamp:v(0)},console.log("getPositionInfo: ".concat(e.t0));case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"exists",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._call("exists",[t]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(X),ue=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"pool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newPool",type:"address"}],name:"setPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],oe=function(e){Object(z.a)(n,e);var t=Object(J.a)(n);function n(e,a,i,r){var s;return Object(W.a)(this,n),(s=t.call(this,e,a,r)).poolAddress=i,s.contract=new s.web3.eth.Contract(ue,s.contractAddress),s}return Object(G.a)(n,[{key:"balance",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=g,e.next=3,this._call("balanceOf",[t]);case 3:return e.t1=e.sent,n=(0,e.t0)(e.t1),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"totalSupply",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=g,e.next=3,this._call("totalSupply");case 3:return e.t1=e.sent,t=(0,e.t0)(e.t1),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(X),pe=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"newController",type:"address"}],name:"addController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"controllers",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"data",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"oldController",type:"address"}],name:"delController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string[]",name:"keys",type:"string[]"}],name:"getValues",outputs:[{internalType:"bytes32[]",name:"",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"string",name:"key",type:"string"},{internalType:"bytes32",name:"value",type:"bytes32"}],internalType:"structDatabase.Params1[]",name:"pairs",type:"tuple[]"}],name:"setValues",outputs:[],stateMutability:"nonpayable",type:"function"}],ce=function(){function e(t,n){Object(W.a)(this,e),this.providerUrl=n,this.contractAddress=t,this.providerUrl&&this._init()}return Object(G.a)(e,[{key:"_init",value:function(){this.web3=P("97"),this.contract=new this.web3.eth.Contract(pe,this.contractAddress)}},{key:"updateProviderUrl",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.providerUrl,!e.t0){e.next=5;break}return e.next=4,A(this.providerUrl);case 4:e.t0=e.sent;case 5:if(e.t0){e.next=9;break}return e.next=8,O(["https://data-seed-prebsc-1-s1.binance.org:8545/","https://data-seed-prebsc-2-s1.binance.org:8545/","https://data-seed-prebsc-1-s2.binance.org:8545/","https://data-seed-prebsc-2-s2.binance.org:8545/","https://data-seed-prebsc-1-s3.binance.org:8545/","https://data-seed-prebsc-2-s3.binance.org:8545/"]);case 8:this.providerUrl=e.sent;case 9:this._init();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getValues",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.contract){e.next=3;break}return e.next=3,this.updateProviderUrl();case 3:return e.next=5,this.contract.methods.getValues(t).call();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ye=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"newController",type:"address"}],name:"addController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"controllers",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"oldController",type:"address"}],name:"delController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"fromChainId",type:"uint256"},{internalType:"address",name:"fromWormhole",type:"address"},{internalType:"uint256",name:"toChainId",type:"uint256"},{internalType:"address",name:"toWormhole",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],internalType:"structDatabase.Params1[]",name:"values",type:"tuple[]"}],name:"setSignature",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"signature",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"fromChainId",type:"uint256"},{internalType:"address",name:"fromWormhole",type:"address"},{internalType:"uint256",name:"toChainId",type:"uint256"},{internalType:"address",name:"toWormhole",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"timestamp",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"bool",name:"valid",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"values",type:"address[]"}],name:"unsetSignature",outputs:[],stateMutability:"nonpayable",type:"function"}],de=function(){function e(t,n){Object(W.a)(this,e),this.providerUrl=n,this.contractAddress=t,this.providerUrl&&this._init()}return Object(G.a)(e,[{key:"updateProviderUrl",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.providerUrl,!e.t0){e.next=5;break}return e.next=4,A(this.providerUrl);case 4:e.t0=e.sent;case 5:if(e.t0){e.next=9;break}return e.next=8,O(["https://data-seed-prebsc-1-s1.binance.org:8545/","https://data-seed-prebsc-2-s1.binance.org:8545/","https://data-seed-prebsc-1-s2.binance.org:8545/","https://data-seed-prebsc-2-s2.binance.org:8545/","https://data-seed-prebsc-1-s3.binance.org:8545/","https://data-seed-prebsc-2-s3.binance.org:8545/"]);case 8:this.providerUrl=e.sent;case 9:this._init();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_init",value:function(){this.web3=P("97"),this.contract=new this.web3.eth.Contract(ye,this.contractAddress)}},{key:"signature",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.contract){e.next=3;break}return e.next=3,this.updateProviderUrl();case 3:return e.next=5,this.contract.methods.signature(t).call();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),le=[{inputs:[{internalType:"address",name:"tokenAddress_",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"migrationTimestamp",type:"uint256"},{indexed:!1,internalType:"address",name:"source",type:"address"},{indexed:!1,internalType:"address",name:"destination",type:"address"}],name:"ApproveMigration",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"deadline",type:"uint256"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"}],name:"Claim",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"migrationTimestamp",type:"uint256"},{indexed:!1,internalType:"address",name:"source",type:"address"},{indexed:!1,internalType:"address",name:"destination",type:"address"}],name:"ExecuteMigration",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"migrationTimestamp",type:"uint256"},{indexed:!1,internalType:"address",name:"source",type:"address"},{indexed:!1,internalType:"address",name:"destination",type:"address"}],name:"PrepareMigration",type:"event"},{inputs:[],name:"CLAIM_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"approveMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"chainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"claim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"source",type:"address"}],name:"executeMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isMigrated",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"migrationDestination",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"migrationTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"destination",type:"address"},{internalType:"uint256",name:"graceDays",type:"uint256"}],name:"prepareMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newController",type:"address"}],name:"setController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"usedHash",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],me=function(e){Object(z.a)(n,e);var t=Object(J.a)(n);function n(e,a,i){var r;return Object(W.a)(this,n),(r=t.call(this,e,a,i)).contract=new r.web3.eth.Contract(le,r.contractAddress),r}return Object(G.a)(n,[{key:"mintDToken",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var n,a,r,s,u,p,c,y=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=y.length,r=new Array(a>1?a-1:0),s=1;s<a;s++)r[s-1]=y[s];return e.next=3,this._estimatedGas("claim",[t].concat(r),t);case 3:return u=e.sent,console.log(u),p=[{from:t,to:this.contractAddress,gas:o.a.utils.numberToHex(u),value:o.a.utils.numberToHex("0"),data:(n=this.contract.methods).claim.apply(n,[t].concat(r)).encodeABI()}],e.next=8,window.ethereum.request({method:"eth_sendTransaction",params:p});case 8:return c=e.sent,e.next=11,new Promise(this._getTransactionReceipt(c));case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(X),be=[{inputs:[{internalType:"contractSushiToken",name:"_sushi",type:"address"},{internalType:"address",name:"_devaddr",type:"address"},{internalType:"uint256",name:"_sushiPerBlock",type:"uint256"},{internalType:"uint256",name:"_startBlock",type:"uint256"},{internalType:"uint256",name:"_bonusEndBlock",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint256",name:"pid",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint256",name:"pid",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"EmergencyWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint256",name:"pid",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[],name:"BONUS_MULTIPLIER",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_allocPoint",type:"uint256"},{internalType:"contractIERC20",name:"_lpToken",type:"address"},{internalType:"bool",name:"_withUpdate",type:"bool"}],name:"add",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"bonusEndBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_devaddr",type:"address"}],name:"dev",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"devaddr",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"}],name:"emergencyWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_from",type:"uint256"},{internalType:"uint256",name:"_to",type:"uint256"}],name:"getMultiplier",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"massUpdatePools",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"}],name:"migrate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"migrator",outputs:[{internalType:"contractIMigratorChef",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"},{internalType:"address",name:"_user",type:"address"}],name:"pendingSushi",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"poolInfo",outputs:[{internalType:"contractIERC20",name:"lpToken",type:"address"},{internalType:"uint256",name:"allocPoint",type:"uint256"},{internalType:"uint256",name:"lastRewardBlock",type:"uint256"},{internalType:"uint256",name:"accSushiPerShare",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"},{internalType:"uint256",name:"_allocPoint",type:"uint256"},{internalType:"bool",name:"_withUpdate",type:"bool"}],name:"set",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contractIMigratorChef",name:"_migrator",type:"address"}],name:"setMigrator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"startBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"sushi",outputs:[{internalType:"contractSushiToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"sushiPerBlock",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalAllocPoint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"}],name:"updatePool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"address",name:"",type:"address"}],name:"userInfo",outputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"rewardDebt",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],fe=function(e){Object(z.a)(n,e);var t=Object(J.a)(n);function n(e,a,i){var r;return Object(W.a)(this,n),(r=t.call(this,e,a,i)).contract=new r.web3.eth.Contract(be,r.contractAddress),r}return Object(G.a)(n,[{key:"addLiquidity",value:function(){var e=Object(s.a)(i.a.mark((function e(t,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[152,w(n)],e.next=3,this._transact("deposit",a,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeLiquidity",value:function(){var e=Object(s.a)(i.a.mark((function e(t,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[152,w(n)],e.next=3,this._transact("withdraw",a,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getLiquidity",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._call("userInfo",[152,t]);case 2:if(!(n=e.sent)||!n.amount){e.next=7;break}return e.abrupt("return",g(n.amount));case 7:return console.log("the amount is not exist "),e.abrupt("return","0");case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(X),ve=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"oldController",type:"address"},{indexed:!1,internalType:"address",name:"newController",type:"address"}],name:"ChangeController",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newController",type:"address"}],name:"setController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],he=function(e){Object(z.a)(n,e);var t=Object(J.a)(n);function n(e,a,i,r){var s;return Object(W.a)(this,n),(s=t.call(this,e,a,r)).poolAddress=i,s.contract=new s.web3.eth.Contract(ve,s.contractAddress),s}return Object(G.a)(n,[{key:"isUnlocked",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._call("allowance",[t,this.poolAddress]);case 2:return n=e.sent,e.abrupt("return",g(n).gt(0));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"unlock",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._transact("approve",[this.poolAddress,C],t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"decimals",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._call("decimals");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_balance",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._call("balanceOf",[t]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"balance",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var n,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._balance(t),this.decimals()]);case 2:return n=e.sent,a=Object(N.a)(n,2),r=a[0],s=a[1],e.abrupt("return",v(r,-s));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(X),Te=[{inputs:[{internalType:"address",name:"tokenAddress_",type:"address"},{internalType:"bool",name:"allowMintBurn_",type:"bool"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"migrationTimestamp",type:"uint256"},{indexed:!1,internalType:"address",name:"source",type:"address"},{indexed:!1,internalType:"address",name:"destination",type:"address"}],name:"ApproveMigration",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"fromChainId",type:"uint256"},{indexed:!1,internalType:"address",name:"fromWormhole",type:"address"},{indexed:!1,internalType:"uint256",name:"toChainId",type:"uint256"},{indexed:!1,internalType:"address",name:"toWormhole",type:"address"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"Claim",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"migrationTimestamp",type:"uint256"},{indexed:!1,internalType:"address",name:"source",type:"address"},{indexed:!1,internalType:"address",name:"destination",type:"address"}],name:"ExecuteMigration",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"fromChainId",type:"uint256"},{indexed:!1,internalType:"address",name:"fromWormhole",type:"address"},{indexed:!1,internalType:"uint256",name:"toChainId",type:"uint256"},{indexed:!1,internalType:"address",name:"toWormhole",type:"address"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"Freeze",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"migrationTimestamp",type:"uint256"},{indexed:!1,internalType:"address",name:"source",type:"address"},{indexed:!1,internalType:"address",name:"destination",type:"address"}],name:"PrepareMigration",type:"event"},{inputs:[],name:"CLAIM_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"allowMintBurn",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"approveMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"chainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"fromChainId",type:"uint256"},{internalType:"address",name:"fromWormhole",type:"address"},{internalType:"uint256",name:"fromNonce",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"claim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"controller",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"source",type:"address"}],name:"executeMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"toChainId",type:"uint256"},{internalType:"address",name:"toWormhole",type:"address"}],name:"freeze",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isMigrated",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"migrationDestination",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"migrationTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"destination",type:"address"},{internalType:"uint256",name:"graceDays",type:"uint256"}],name:"prepareMigration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newController",type:"address"}],name:"setController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"usedHash",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"}],xe=function(e){Object(z.a)(n,e);var t=Object(J.a)(n);function n(e,a,i){var r;return Object(W.a)(this,n),(r=t.call(this,e,a,i)).contract=new r.web3.eth.Contract(Te,r.contractAddress),r}return Object(G.a)(n,[{key:"freeze",value:function(){var e=Object(s.a)(i.a.mark((function e(t,n,a){var r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=B(a),s=r.wormholeAddress,e.abrupt("return",this._transact("freeze",[w(n),a,s],t));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"mintDeri",value:function(){var e=Object(s.a)(i.a.mark((function e(t,n,a,r,s,u,o,p){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._transact("claim",[n,a,r,s,u,o,p],t));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,a,i,r,s,u,o){return e.apply(this,arguments)}}()}]),n}(X),we=function(){var e={};return function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=b(y.get(),t),a=n;if(Object.keys(e).includes(a))return e[a];var i=new ce(n);return e[a]=i,i}}(),ge=(function(){var e={}}(),function(){var e={};return function(t,n){var a,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(a=i?"".concat(t,".").concat(n,".isProvider"):"".concat(t,".").concat(n),Object.keys(e).includes(a))return e[a];var r=new ne(t,n,i);return e[a]=r,r}}()),ke=function(){var e={};return function(t,n,a){var i,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(i=r?"".concat(t,".").concat(n,".").concat(a,".isProvider"):"".concat(t,".").concat(n,".").concat(a),Object.keys(e).includes(i))return e[i];var s=new ie(t,n,a,r);return e[i]=s,s}}(),Me=(function(){var e={}}(),function(){var e={};return function(t,n,a){var i,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(i=r?"".concat(t,".").concat(n,".").concat(a,".isProvider"):"".concat(t,".").concat(n,".").concat(a),Object.keys(e).includes(i))return e[i];var s=new oe(t,n,a,r);return e[i]=s,s}}()),Ae=function(){var e={};return function(t,n){var a,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(a=i?"".concat(t,".").concat(n,".isProvider"):"".concat(t,".").concat(n),Object.keys(e).includes(a))return e[a];var r=new me(t,n,i);return e[a]=r,r}}(),Oe=(function(){var e={}}(),function(){var e={}}(),function(){var e={}}(),function(){var e=Object(s.a)(i.a.mark((function e(t){var n,a,r,s,u,o,p,c,y,d,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=we(!0),t=T(t),e.next=4,n.getValues(["".concat(t,".claim.chainId"),"".concat(t,".claim.amount"),"".concat(t,".claim.deadline"),"".concat(t,".claim.nonce"),"".concat(t,".claim.v"),"".concat(t,".claim.r"),"".concat(t,".claim.s"),"".concat(t,".claim.valid")]).catch((function(e){return console.log("getUserInfo",e)}));case 4:if(!(a=e.sent)){e.next=8;break}return r=Object(N.a)(a,8),s=r[0],u=r[1],o=r[2],p=r[3],c=r[4],y=r[5],d=r[6],l=r[7],e.abrupt("return",{chainId:k(s),amount:g(u),deadline:k(o),nonce:k(p),v:k(c),r:y,s:d,valid:(i=l,1===v(i).toNumber())});case 8:case"end":return e.stop()}var i}),e)})));return function(t){return e.apply(this,arguments)}}()),Ce=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,a,r,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=we(!0),t=T(t),e.next=4,n.getValues(["".concat(t,".claim.harvest.lp"),"".concat(t,".claim.harvest.trade")]).catch((function(e){return console.log("getUserInfoHarvest",e)}));case 4:if(!(a=e.sent)){e.next=8;break}return r=Object(N.a)(a,2),s=r[0],u=r[1],e.abrupt("return",{lp:g(s),trade:g(u)});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,a,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=we(!0),t=T(t),e.next=4,n.getValues(["".concat(t,".claim.total")]).catch((function(e){return console.log("getUserInfoTotal",e)}));case 4:if(!(a=e.sent)){e.next=8;break}return r=Object(N.a)(a,1),s=r[0],e.abrupt("return",{total:k(s)});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe(t);case 2:return n=e.sent,e.next=5,Ce(t);case 5:return a=e.sent,e.next=8,je(t);case 8:return r=e.sent,e.abrupt("return",Object.assign(n,a,r));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(s.a)(i.a.mark((function e(t,n){var a,r,s,u,o,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=we(),e.prev=1,e.next=4,a.getValues(["".concat(t,".").concat(n,".liquidity")]).catch((function(e){return console.log("getPoolLiquidity",e)}));case 4:if(r=e.sent,s=D(t,n),u=s.symbol,!r){e.next=9;break}return o=Object(N.a)(r,1),p=o[0],e.abrupt("return",{liquidity:g(p).toString(),symbol:u});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),Be=function(){var e=Object(s.a)(i.a.mark((function e(t,n){var a,r,s,u,o,p,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=we(!0),e.prev=1,r=j(t),e.next=5,a.getValues(["".concat(r,".").concat(n,".apy"),"".concat(r,".").concat(n,".volume.1h"),"".concat(r,".").concat(n,".volume.24h")]).catch((function(e){return console.log("getPoolInfoApy",e)}));case 5:if(!(s=e.sent)){e.next=9;break}return u=Object(N.a)(s,3),o=u[0],p=u[1],c=u[2],e.abrupt("return",{apy:k(o),volume1h:k(p),volume24h:k(c)});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),_e=function(){var e=Object(s.a)(i.a.mark((function e(t,n){var a,r,s,u,o,p,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=we(!0),e.prev=1,r=j(t),e.next=5,a.getValues(["".concat(r,".").concat(n,".apy"),"".concat(r,".").concat(n,".volume.1h"),"".concat(r,".").concat(n,".volume.24h")]).catch((function(e){return console.log("getPoolInfoApy",e)}));case 5:if(!(s=e.sent)){e.next=9;break}return u=Object(N.a)(s,3),o=u[0],p=u[1],c=u[2],e.abrupt("return",{apy:k(o),volume1h:k(p),volume24h:k(c)});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(s.a)(i.a.mark((function e(t,n,a){var r,s,u,o,p,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=we(!0),a=T(a),e.prev=2,s=j(t),e.next=6,r.getValues(["".concat(s,".").concat(n,".").concat(a,".volume.1h"),"".concat(s,".").concat(n,".").concat(a,".volume.24h")]).catch((function(e){return console.log("getUserInfoInPool",e)}));case 6:if(!(u=e.sent)){e.next=10;break}return o=Object(N.a)(u,2),p=o[0],c=o[1],e.abrupt("return",{volume1h:k(p),volume24h:k(c)});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,n,a){return e.apply(this,arguments)}}(),Ie=(function(){var e={}}(),function(){var e=""}(),function(){var e="",t=null}(),function(){var e={}}(),function(){var e=Object(s.a)(i.a.mark((function e(t,n,a){var r,s,u,o,p,c,y,d,l,m,b,f,v,h,T,x,w,g,k;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t,n),s=r.bTokenAddress,u=ge(t,n),o=ke(t,s,n),e.next=5,u.getParameters();case 5:return p=e.sent,c=p.multiplier,y=p.feeRatio,d=p.minPoolMarginRatio,l=p.minInitialMarginRatio,m=p.minMaintenanceMarginRatio,b=p.minAddLiquidity,f=p.redemptionFeeRatio,v=p.fundingRateCoefficient,h=p.minLiquidationReward,T=p.maxLiquidationReward,x=p.liquidationCutRatio,w=p.priceDelayAllowance,e.next=20,u.symbol();case 20:return g=e.sent,e.next=23,o.symbol();case 23:return k=e.sent,e.abrupt("return",{addresses:n,symbol:g,bSymbol:k,multiplier:c.toString(),feeRatio:y.toString(),minPoolMarginRatio:d.toString(),minInitialMarginRatio:l.toString(),minMaintenanceMarginRatio:m.toString(),minAddLiquidity:b.toString(),redemptionFeeRatio:f.toString(),fundingRateCoefficient:v.toString(),minLiquidationReward:h.toString(),maxLiquidationReward:T.toString(),liquidationCutRatio:x.toString(),priceDelayAllowance:w.toString()});case 25:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()),Se=function(){var e=Object(s.a)(i.a.mark((function e(t,n,a){var r,s,u,o,p,c,y,d,l,m,b,f,v,h,T,x,w;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t,n),s=r.lTokenAddress,u=ge(t,n),o=Me(t,s,n),e.next=5,Promise.all([o.balance(a),o.totalSupply()]);case 5:return p=e.sent,c=Object(N.a)(p,2),y=c[0],d=c[1],e.next=11,E(t,n);case 11:return l=e.sent,e.next=14,u.getStateValues();case 14:return m=e.sent,b=m.liquidity,f=m.tradersNetCost,v=m.tradersNetVolume,e.next=20,u.getParameters();case 20:return h=e.sent,T=h.multiplier,x=h.minPoolMarginRatio,w=b.plus(f.minus(v.times(l).times(T))),e.abrupt("return",{totalSupply:d.toString(),poolLiquidity:b.toString(),shares:y.toString(),shareValue:$(d,w).toString(),maxRemovableShares:ee(y,d,b,v,f,T,x,l).toString()});case 25:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Re=function(){var e=Object(s.a)(i.a.mark((function e(t,n,a){var r,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t,n),s=r.bTokenAddress,u=ke(t,s,n),e.next=4,u.isUnlocked(a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(s.a)(i.a.mark((function e(t,n,a){var r,s,u,o,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t,n),s=r.bTokenAddress,u=ke(t,s,n),e.prev=2,e.next=5,u.unlock(a);case 5:p=e.sent,o={success:!0,transaction:p},e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),o={success:!1,error:e.t0};case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n,a){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(s.a)(i.a.mark((function e(t,n,a,r){var s,u,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=ge(t,n),e.prev=1,e.next=4,s._transactPool("addLiquidity(uint256,uint256,uint256,uint8,bytes32,bytes32)",[w(r)],a);case 4:o=e.sent,u={success:!0,transaction:o},e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),u={success:!1,error:e.t0};case 11:return e.abrupt("return",u);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,a,i){return e.apply(this,arguments)}}(),qe=function(){var e=Object(s.a)(i.a.mark((function e(t,n,a,r){var s,u,o,p,c,y,d,l,m,b,f,h,T,x,g,k,M,A,O;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=D(t,n),u=s.lTokenAddress,o=ge(t,n),p=Me(t,u,n),e.next=5,E(t,n);case 5:return c=e.sent,e.next=8,Promise.all([p.balance(a),p.totalSupply()]);case 8:return y=e.sent,d=Object(N.a)(y,2),l=d[0],m=d[1],e.next=14,o.getParameters();case 14:return b=e.sent,f=b.multiplier,h=b.minPoolMarginRatio,e.next=19,o.getStateValues();case 19:if(T=e.sent,x=T.liquidity,g=T.tradersNetVolume,k=T.tradersNetCost,M=ee(l,m,x,g,k,f,h,c),!v(r).lte(M)){e.next=37;break}return e.prev=25,e.next=28,o._transactPool("removeLiquidity(uint256,uint256,uint256,uint8,bytes32,bytes32)",[w(r)],a);case 28:O=e.sent,A={success:!0,transaction:O},e.next=35;break;case 32:e.prev=32,e.t0=e.catch(25),A={success:!1,error:e.t0};case 35:e.next=38;break;case 37:A={success:!1,error:"shares exceeds allowed"};case 38:return e.abrupt("return",A);case 39:case"end":return e.stop()}}),e,null,[[25,32]])})));return function(t,n,a,i){return e.apply(this,arguments)}}(),Le=function(){var e=Object(s.a)(i.a.mark((function e(t,n){var a,r,s,u,o,p,c,y,d,l,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De(n);case 2:if(r=e.sent,s=w(r.amount),u=r.deadline,o=r.nonce,p=r.v,c=r.r,y=r.s,!r.valid){e.next=28;break}if(!(d=F(t))){e.next=25;break}return l=Ae(t,d),e.prev=13,e.next=16,l.mintDToken(n,s,u,o,p,c,y);case 16:m=e.sent,a={success:!0,transaction:m},e.next=23;break;case 20:e.prev=20,e.t0=e.catch(13),a={success:!1,error:e.t0};case 23:e.next=26;break;case 25:a={success:!1,error:"cannot find the mining vault address in chain ".concat(t)};case 26:e.next=29;break;case 28:a={success:!1,error:"userinfo is not valid"};case 29:return e.abrupt("return",a);case 30:case"end":return e.stop()}}),e,null,[[13,20]])})));return function(t,n){return e.apply(this,arguments)}}()},89:function(e,t,n){"use strict";var a=n(3),i=n(4),r=n(10),s=n(9),u=n(7),o=n.n(u),p=n(223),c=n.n(p),y=n(124),d=n.n(y),l=(n(237),n(33)),m=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentWillMount",value:function(){d.a.start()}},{key:"componentWillUnmount",value:function(){d.a.done()}},{key:"render",value:function(){return Object(l.jsx)("div",{})}}]),n}(o.a.Component);t.a=function(e){return c()({loader:e,loading:function(){return Object(l.jsx)(m,{})}})}}},[[504,3,4]]]);
//# sourceMappingURL=main.793ad237.chunk.js.map