(this["webpackJsonpapp.deri.finance"]=this["webpackJsonpapp.deri.finance"]||[]).push([[2],{554:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var n=c(0),a=c.n(n),s=c(2),i=c(16),r=c(4),l=c(40);function o(e){var t=e.btnText,c=e.className,n=e.disabled,o=e.click,d=e.afterClick,A=Object(r.useState)(n?"disabled":"enabled"),j=Object(i.a)(A,2),u=j[0],b=j[1],O=Object(r.useState)(!1),x=Object(i.a)(O,2),m=x[0],f=x[1],v=Object(r.useRef)(null),h=function(){var e=Object(s.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("enabled"===u){e.next=2;break}return e.abrupt("return");case 2:return b("disabled"),f(!0),v.current&&(v.current.style.display="inline-block"),e.next=7,o();case 7:e.sent&&d&&d(),v.current&&(v.current.style.display="none"),b("enabled"),f(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsxs)("button",{className:c,onClick:h,children:[Object(l.jsx)("span",{className:"btn-loading-wrap",children:Object(l.jsx)("span",{ref:v,className:"spinner spinner-border spinner-border-sm",style:{display:"none",marginRight:"2"}})}),m?"PENDING":t]})}},555:function(e,t,c){"use strict";var n=c(101),a=c(5),s=c(7),i=c(12),r=c(11),l=c(4),o=c.n(l),d=c(562),A=c.n(d),j=c(40);t.a=function(e){var t=document.getElementById("root"),c={overlay:{position:"fixed",zIndex:2,background:"rgb(0 0 0 / 0.5)"},content:{position:"absolute",border:0,background:"none",inset:0,overflow:"initial"}};return function(l){Object(i.a)(d,l);var o=Object(r.a)(d);function d(e){var t;return Object(a.a)(this,d),(t=o.call(this,e)).state={modalIsOpen:!1},t}return Object(s.a)(d,[{key:"render",value:function(){var a=this.props.modalIsOpen;return Object(j.jsx)(A.a,{isOpen:a,style:c,appElement:t,children:Object(j.jsx)(e,Object(n.a)(Object(n.a)({},this.props),{},{onClose:this.props.onClose}))})}}]),d}(o.a.Component)}},557:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var n=c(4);function a(e,t){var c=Object(n.useRef)(e);Object(n.useEffect)((function(){c.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){return c.current()}),t);return function(){return clearInterval(e)}}}),[t])}},560:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var n=c(0),a=c.n(n),s=c(2),i=c(16),r=c(4),l=c(49);function o(e){var t=Object(r.useState)([]),c=Object(i.a)(t,2),n=c[0],o=c[1],d=function(){var e=Object(s.a)(a.a.mark((function e(t){var c,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.getContractAddressConfig)(l.DeriEnv.get());case 2:c=e.sent,t.account?(n=c.filter((function(e){return+e.chainId===+t.chainId})),o(n)):o(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){return d(e),function(){}}),[e.account]),n}},564:function(e,t,c){"use strict";c.d(t,"a",(function(){return j}));var n=c(0),a=c.n(n),s=c(2),i=c(16),r=c(4),l=c(49),o=c(553),d=c(554),A=c(40);function j(e){var t=e.wallet,c=e.spec,n=void 0===c?{}:c,j=e.onClose,u=e.balance,b=e.afterDeposit,O=Object(r.useState)(""),x=Object(i.a)(O,2),m=x[0],f=x[1],v=Object(r.useState)(""),h=Object(i.a)(v,2),p=h[0],g=h[1],N=Object(r.useState)(""),w=Object(i.a)(N,2),y=w[0],C=w[1],I=function(){var e=Object(s.a)(a.a.mark((function e(c){var s,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.depositMargin)(t.detail.chainId,n.pool,t.detail.account,c);case 2:(s=e.sent).success?(b(),j()):(i="string"===typeof s.error?s.error:s.error.errorMessage||s.error.message,alert(i));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){return function(){if(u){var e=(+u).toFixed(2),t=e.indexOf(".")>0?e.substring(e.indexOf(".")+1,e.length):"0";f(u),g(t)}}(),function(){}}),[u]),Object(A.jsx)("div",{className:"modal fade",children:Object(A.jsx)("div",{className:"modal-dialog",children:Object(A.jsxs)("div",{className:"modal-content",children:[Object(A.jsxs)("div",{className:"modal-header",children:[Object(A.jsx)("div",{className:"title",children:"DEPOSIT MARGIN"}),Object(A.jsx)("div",{className:"close","data-dismiss":"modal",onClick:j,children:Object(A.jsx)("span",{children:"\xd7"})})]}),Object(A.jsx)("div",{className:"modal-body",children:Object(A.jsxs)("div",{className:"margin-box-info",children:[Object(A.jsx)("div",{children:"Wallet Balance"}),Object(A.jsxs)("div",{className:"money",children:[Object(A.jsxs)("span",{children:[Object(A.jsxs)("span",{className:"bt-balance",children:[Object(A.jsx)(o.a,{value:m,displayType:"text",decimalScale:0}),".",Object(A.jsx)("span",{style:{fontSize:"12px"},children:p})]}),Object(A.jsx)("br",{}),Object(A.jsx)("span",{style:{fontSize:"14px",marginLeft:"10px",marginTop:"10px"},children:n.bTokenSymbol})]}),Object(A.jsx)("span",{className:"add"})]}),Object(A.jsxs)("div",{className:"enter-margin",children:[Object(A.jsx)("div",{className:"input-margin",children:Object(A.jsxs)("div",{className:"box",children:[Object(A.jsx)("div",{className:"amount",style:{display:""!==y?"block":"none"},children:"AMOUNT"}),Object(A.jsx)("input",{type:"number",className:"margin-value",placeholder:"Amount",value:y,onChange:function(e){var t=e.target.value;C(t)}})]})}),Object(A.jsx)("div",{children:n.bTokenSymbol})]}),Object(A.jsxs)("div",{className:"max",children:["MAX: ",Object(A.jsx)("span",{className:"max-num",children:u}),Object(A.jsx)("span",{className:"max-btn-left",onClick:function(){C(u)},children:"ADD ALL"})]}),Object(A.jsx)("div",{className:"add-margin-btn",children:Object(A.jsx)(d.a,{className:"margin-btn",btnText:"DEPOSIT",click:function(){return I(y)}})})]})})]})})})}},569:function(e,t,c){"use strict";c.d(t,"a",(function(){return H}));var n=c(16),a=c(4),s=c(42),i=c(0),r=c.n(i),l=c(2),o=c(553),d=c(49),A=c(552),j=c.n(A),u=c(555),b=c(564),O=c(573),x=c(557),m=c(40),f=Object(u.a)(b.a),v=Object(u.a)(O.a);function h(e){var t=e.wallet,c=e.spec,i=void 0===c?{}:c,A=Object(a.useState)(!1),u=Object(n.a)(A,2),b=u[0],O=u[1],h=Object(a.useState)({}),p=Object(n.a)(h,2),g=p[0],N=p[1],w=Object(a.useState)(""),y=Object(n.a)(w,2),C=y[0],I=y[1],D=Object(a.useState)(""),k=Object(n.a)(D,2),B=k[0],M=k[1],S=Object(a.useState)(!1),Q=Object(n.a)(S,2),E=Q[0],R=Q[1],T=Object(a.useState)(!1),Y=Object(n.a)(T,2),J=Y[0],G=Y[1],H=Object(a.useState)(""),P=Object(n.a)(H,2),F=P[0],L=P[1];function z(){return Z.apply(this,arguments)}function Z(){return(Z=Object(l.a)(r.a.mark((function e(){var c,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.isConnected()&&i&&i.pool)){e.next=5;break}return e.next=3,Object(d.getPositionInfo)(t.detail.chainId,i.pool,t.detail.account);case 3:(c=e.sent)&&(N(c),n=+c.volume>0?"LONG":0==c.volume?"--":"SHORT",I(n),M(+c.margin+ +c.unrealizedPnl));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(x.a)(z,3e3);var U=function(){var e=Object(l.a)(r.a.mark((function e(){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConnected()||!i.pool){e.next=5;break}return e.next=3,Object(d.getWalletBalance)(t.detail.chainId,i.pool,t.detail.account);case 3:(c=e.sent)&&L(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(l.a)(r.a.mark((function e(){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,Object(d.closePosition)(t.detail.chainId,i.pool,t.detail.account).finally((function(){return O(!1)}));case 3:(c=e.sent).success?z():"string"===typeof c.error?alert(c.error||"Liquidation failed"):"object"===Object(s.a)(c.error)&&alert(c.error.errorMessage||"Liquidation failed");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=j()("Direction","info-num",{LONG:"LONG"===C,SHORT:"SHORT"===C});return Object(a.useEffect)((function(){return z(),U(),function(){}}),[t.detail.account,i.pool]),Object(m.jsxs)("div",{className:"position-info",children:[Object(m.jsxs)("div",{className:"info",children:[Object(m.jsxs)("div",{className:"info-left",children:[Object(m.jsx)("div",{className:"title-text",children:"Position"}),Object(m.jsx)("div",{className:"info-num",children:g.volume})]}),Object(m.jsx)("div",{className:"info-right",children:Object(m.jsxs)("div",{className:"close-position",id:"close-p",onClick:W,children:[Object(m.jsx)("span",{className:"spinner spinner-border spinner-border-sm",role:"status","aria-hidden":"true",style:{display:b?"block":"none"}}),Object(m.jsx)("svg",{t:"1618369709897",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2009",width:"14",height:"14",children:Object(m.jsx)("path",{d:"M510.8096 420.3008l335.296-335.296 90.5088 90.5088-335.296 335.296 335.296 335.296-90.5088 90.5088-335.296-335.296-335.296 335.296-90.5088-90.5088 335.296-335.296-335.296-335.296 90.5088-90.5088z","p-id":"2010",fill:"#ffffff"})})," Close"]})})]}),Object(m.jsxs)("div",{className:"info",children:[Object(m.jsxs)("div",{className:"info-left",children:[Object(m.jsx)("div",{className:"title-text",children:"Average Entry Price"}),Object(m.jsx)("div",{className:"info-num",children:Object(m.jsx)(o.a,{value:g.averageEntryPrice,decimalScale:2,displayType:"text"})})]}),Object(m.jsx)("div",{className:"info-right"})]}),Object(m.jsxs)("div",{className:"info",children:[Object(m.jsxs)("div",{className:"info-left",children:[Object(m.jsx)("div",{className:"title-text balance-con",children:"Balance in Contract (Dynamic Balance)"}),Object(m.jsxs)("div",{className:"info-num",children:[" ",Object(m.jsx)(o.a,{decimalScale:2,value:B,displayType:"text"})]})]}),Object(m.jsxs)("div",{className:"info-right",children:[Object(m.jsxs)("div",{className:"add-margin",id:"openAddMargin",onClick:function(){return R(!0)},children:[Object(m.jsx)("svg",{className:"svg",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",children:Object(m.jsx)("path",{id:"login",d:"M13,9,7,4V7H0v4H7v3Zm3,7H8v2h8a2.006,2.006,0,0,0,2-2V2a2.006,2.006,0,0,0-2-2H8V2h8Z",transform:"translate(18) rotate(90)",fill:"#3ebf38"})}),"Add"]}),Object(m.jsxs)("div",{className:"remove-margin",onClick:function(){return G(!0)},children:[Object(m.jsx)("svg",{className:"svg",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",children:Object(m.jsx)("path",{id:"log-out","data-name":"log out",d:"M18,9,12,4V7H5v4h7v3ZM2,2h8V0H2A2.006,2.006,0,0,0,0,2V16a2.006,2.006,0,0,0,2,2h8V16H2Z",transform:"translate(0 18) rotate(-90)",fill:"#e35061"})}),"Remove"]})]})]}),Object(m.jsxs)("div",{className:"info",children:[Object(m.jsxs)("div",{className:"info-left",children:[Object(m.jsx)("div",{className:"title-text",children:"Direction"}),Object(m.jsx)("div",{className:K,children:C})]}),Object(m.jsx)("div",{className:"info-right"})]}),Object(m.jsxs)("div",{className:"info",children:[Object(m.jsxs)("div",{className:"info-left",children:[Object(m.jsx)("div",{className:"title-text",children:"Margin"}),Object(m.jsx)("div",{className:"info-num",children:Object(m.jsx)(o.a,{value:g.marginHeld,displayType:"text",decimalScale:2})})]}),Object(m.jsx)("div",{className:"info-right"})]}),Object(m.jsxs)("div",{className:"info",children:[Object(m.jsxs)("div",{className:"info-left",children:[Object(m.jsx)("div",{className:"title-text",children:"Unrealized PnL"}),Object(m.jsx)("div",{className:"info-num",children:Object(m.jsx)(o.a,{value:g.unrealizedPnl,displayType:"text",decimalScale:8})})]}),Object(m.jsx)("div",{className:"info-right"})]}),Object(m.jsxs)("div",{className:"info",children:[Object(m.jsxs)("div",{className:"info-left",children:[Object(m.jsx)("div",{className:"title-text",children:"Liquidation Price"}),Object(m.jsx)("div",{className:"info-num",children:Object(m.jsx)(o.a,{decimalScale:2,value:g.liquidationPrice,displayType:"text"})})]}),Object(m.jsx)("div",{className:"info-right"})]}),Object(m.jsx)(f,{wallet:t,modalIsOpen:E,onClose:function(){R(!1)},spec:i,afterDeposit:function(){R(!1),z()},balance:F}),Object(m.jsx)(v,{wallet:t,modalIsOpen:J,onClose:function(){G(!1)},spec:i,afterWithdraw:function(){G(!1),z()},position:g})]})}var p=c(574),g=c.n(p),N=c(89),w=c(575),y=N[d.DeriEnv.get()].chainInfo;function C(e){var t=e.wallet,c=void 0===t?{}:t,s=e.spec,i=void 0===s?{}:s,A=e.specs,j=void 0===A?[]:A,u=Object(a.useState)([]),b=Object(n.a)(u,2),O=b[0],x=b[1],f=function(){var e=Object(l.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.getTradeHistory)(c.detail.chainId,i.pool,c.detail.account);case 2:t=e.sent,n=t.map((function(e){e.directionText="LONG"===e.direction?"LONG / BUY":"SHORT / SELL";var t=j.find((function(t){return t.bTokenSymbol===e.baseToken}));return t&&(e.baseTokenText=" ".concat(t.symbol," / ").concat(t.bTokenSymbol)),e})),x(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){return f(),function(){}}),[c.detail,i.pool,j]),Object(m.jsx)("div",{className:"history-info","v-show":"historyShow",children:O.map((function(e,t){return Object(m.jsxs)("div",{className:"history-box",children:[Object(m.jsxs)("div",{className:"direction-bToken-price",children:[Object(m.jsxs)("span",{className:"direction",children:[Object(m.jsx)("span",{className:"".concat(e.direction),children:e.directionText}),Object(m.jsx)("span",{children:e.baseTokenText}),Object(m.jsx)(I,{wallet:c,his:e})]}),Object(m.jsx)("span",{className:"history-text time",children:g.a.asString("yyyy-MM-dd hh:mm:ss",new Date(parseInt(e.time)))})]}),Object(m.jsxs)("div",{className:"time-price-volume",children:[Object(m.jsxs)("div",{className:"history-price",children:[Object(m.jsx)("div",{className:"history-title",children:"Volume @ Price"}),Object(m.jsxs)("div",{className:"history-text",children:[e.volume," @ ",Object(m.jsx)(o.a,{value:e.price,decimalScale:2,displayType:"text"})]})]}),Object(m.jsxs)("div",{className:"notional",children:[Object(m.jsx)("div",{className:"history-title",children:"Notional"}),Object(m.jsx)("div",{className:"history-text",children:e.notional})]}),Object(m.jsxs)("div",{className:"history-fee",children:[Object(m.jsx)("div",{className:"history-title",children:"Transaction Fee"}),Object(m.jsx)("div",{className:"history-text",children:e.transactionFee})]})]})]},t)}))})}function I(e){var t=e.wallet,c=e.his,s=Object(a.useState)(!1),i=Object(n.a)(s,2),r=i[0],l=i[1],o=function(){l(!0)},d=function(){l(!1)},A=j()("view",{hover:r});return Object(m.jsxs)("span",{className:A,onMouseOut:d,children:[Object(m.jsx)("span",{className:"view-space",onMouseOver:o,children:Object(m.jsxs)("a",{target:"_blank",rel:"noreferrer",href:"".concat(y[t.detail.chainId].viewUrl,"tx/").concat(c.transactionHash),children:["View at ",y[t.detail.chainId].viewUrl]})}),Object(m.jsx)("span",{className:"right-arrow",onMouseOver:o,children:Object(m.jsx)("img",{alt:"",src:w.a})}),Object(m.jsx)("span",{className:"view-arrow",onMouseOver:o,onMouseOut:d,children:Object(m.jsx)("img",{rel:"noreferrer",alt:"",src:"data:image/svg+xml;base64,DQo8c3ZnIGZpbGw9Im5vbmUiIGhlaWdodD0iMTAiIHdpZHRoPSIxMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCiAgICA8cGF0aCBkPSJNOC42NzYuNjQyYS42NS42NSAwIDAwLS4wNzIuMDA2SDQuNzkzYS42NS42NSAwIDAwLS41Ny45NzUuNjUuNjUgMCAwMC41Ny4zMjJINy4xMkwuNDM4IDguNjE0YS42NDcuNjQ3IDAgMDAuMjg2IDEuMDk2LjY1LjY1IDAgMDAuNjMyLS4xNzlMOC4wNCAyLjg2MXYyLjMyNGEuNjQ4LjY0OCAwIDAwLjk3Ny41Ny42NDguNjQ4IDAgMDAuMzIyLS41N1YxLjM4YS42NDcuNjQ3IDAgMDAtLjY2Mi0uNzM3eiIgZmlsbD0iI0FBQUFBQSIvPg0KPC9zdmc+DQoNCg=="})})]})}function D(e){var t=e.wallet,c=e.spec,s=void 0===c?{}:c,i=Object(a.useState)({bSymbol:"USDT",symbol:"BTCUSD",multiplier:"0.0001",fundingRateCoefficient:"0.0000025",minInitialMarginRatio:.1,minMaintenanceMarginRatio:5e-4,feeRatio:.05}),A=Object(n.a)(i,2),j=A[0],u=A[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(r.a.mark((function e(){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.pool||!t.isConnected()){e.next=5;break}return e.next=3,Object(d.getSpecification)(t.detail.chainId,s.pool,t.detail.account);case 3:c=e.sent,u(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t&&e(),function(){}}),[s,t]),Object(m.jsxs)("div",{className:"contract-box",children:[Object(m.jsx)("div",{className:"contract-header"}),Object(m.jsxs)("div",{className:"contract-info",children:[Object(m.jsx)("div",{className:"conntract-header",children:"CONTRACT INFO"}),Object(m.jsxs)("div",{className:"info",children:[Object(m.jsx)("div",{className:"title",children:"Base Token"}),Object(m.jsx)("div",{className:"text",children:j.bSymbol})]}),Object(m.jsxs)("div",{className:"info",children:[Object(m.jsx)("div",{className:"title",children:"Symbol"}),Object(m.jsx)("div",{className:"text",children:j.symbol})]}),Object(m.jsxs)("div",{className:"info",children:[Object(m.jsx)("div",{className:"title",children:"Multiplier"}),Object(m.jsx)("div",{className:"text",children:j.multiplier})]}),Object(m.jsxs)("div",{className:"info",children:[Object(m.jsx)("div",{className:"title",children:"Funding Rate Coefficient"}),Object(m.jsx)("div",{className:"text",children:j.fundingRateCoefficient})]}),Object(m.jsxs)("div",{className:"info",children:[Object(m.jsx)("div",{className:"title",children:"Min Initial Margin Ratio"}),Object(m.jsx)("div",{className:"text",children:Object(m.jsx)(o.a,{displayType:"text",value:100*j.minInitialMarginRatio,decimalScale:2,suffix:"%"})})]}),Object(m.jsxs)("div",{className:"info",children:[Object(m.jsx)("div",{className:"title",children:"Min Maintenance Margin Ratio"}),Object(m.jsx)("div",{className:"text",children:Object(m.jsx)(o.a,{displayType:"text",value:100*j.minMaintenanceMarginRatio,decimalScale:2,suffix:"%"})})]}),Object(m.jsxs)("div",{className:"info",children:[Object(m.jsx)("div",{className:"title",children:"Transaction Fee"}),Object(m.jsx)("div",{className:"text",children:Object(m.jsx)(o.a,{displayType:"text",value:100*j.feeRatio,decimalScale:2,suffix:"%"})})]})]})]})}var k=c(101),B=c(578),M=c(609),S=(c(600),c(601),M.b.Handle);function Q(e){var t=e.value,c=(e.dragging,e.index),n=Object(B.a)(e,["value","dragging","index"]);return Object(m.jsx)(M.a,{prefixCls:"rc-slider-tooltip",overlay:t||"",placement:"top",visible:!!t,overlayStyle:{display:"block"},overlayInnerStyle:{color:"#569BDA",background:"none",display:"block",fontSize:"10px",boxShadow:"none"},children:Object(m.jsx)(S,Object(k.a)({value:t},n))},c)}function E(e){var t=e.max,c=e.start,s=e.onValueChange,i=e.freeze,r=Object(a.useState)(0),l=Object(n.a)(r,2),o=l[0],d=l[1],A=Object(a.useState)(0),j=Object(n.a)(A,2),u=j[0],b=j[1],O=Object(a.useState)(!1),x=Object(n.a)(O,2),f=x[0],v=x[1],h=Object(a.useState)({}),p=Object(n.a)(h,2),g=p[0],N=p[1];return Object(a.useEffect)((function(){return v(i),function(){}}),[i]),Object(a.useEffect)((function(){if(isNaN(t))d("");else{v(!(+t>0));for(var e={},c=+t/10,n=0;n<=10;n++)if(0===n||10===n){var a={top:"-16px",position:"relative"};10===n&&(a.width=100,a.left="-10px",a.paddingRight="10px"),e[n*c]=Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{style:a,children:10===n?(n*c).toFixed(2):n*c}),Object(m.jsx)("div",{style:{top:"-16px",position:"relative"},children:"l"})]})}else e[n*c]="l";N(e),d(+t)}return function(){}}),[t]),Object(a.useEffect)((function(){return isNaN(c)?b(0):b(c),function(){}}),[c]),Object(m.jsx)(M.b,{handle:Q,className:"deri-slider",start:c,min:0,max:o,value:u,onChange:function(e){b(e),s(e)},disabled:f,overlay:u,step:.01,marks:g})}var R=c(554);function T(e){var t=e.wallet,c=void 0===t?{}:t,s=e.spec,i=void 0===s?{}:s,A=e.specs,u=void 0===A?[]:A,b=e.onSpecChange,O=e.indexPrice,f=Object(a.useState)("long"),v=Object(n.a)(f,2),h=v[0],p=v[1],g=Object(a.useState)(null),N=Object(n.a)(g,2),w=N[0],y=N[1],C=Object(a.useState)(!1),I=Object(n.a)(C,2),D=I[0],B=I[1],M=Object(a.useState)("0.00"),S=Object(n.a)(M,2),Q=S[0],R=S[1],T=Object(a.useState)({}),Y=Object(n.a)(T,2),J=Y[0],H=Y[1],P=Object(a.useState)("0.00"),F=Object(n.a)(P,2),L=F[0],z=F[1],Z=Object(a.useState)(""),U=Object(n.a)(Z,2),W=U[0],K=U[1],V=Object(a.useState)(""),X=Object(n.a)(V,2),q=X[0],$=X[1],_=Object(a.useState)(""),ee=Object(n.a)(_,2),te=ee[0],ce=ee[1],ne=Object(a.useState)(""),ae=Object(n.a)(ne,2),se=ae[0],ie=ae[1],re=Object(a.useState)({}),le=Object(n.a)(re,2),oe=le[0],de=le[1],Ae=Object(a.useState)(""),je=Object(n.a)(Ae,2),ue=je[0],be=je[1],Oe=Object(a.useState)(!1),xe=Object(n.a)(Oe,2),me=xe[0],fe=xe[1],ve=Object(a.useRef)(),he=Object(a.useState)({}),pe=Object(n.a)(he,2),ge=pe[0],Ne=pe[1],we=Object(a.useState)(""),ye=Object(n.a)(we,2),Ce=ye[0],Ie=ye[1];Object(x.a)(Te,3e3);var De=j()("checked-long","check-long-short"," long-short",{" checked-short":"short"===h}),ke=j()("dropdown-menu",{show:D}),Be=j()("contrant-input",{inputFamliy:""!==Ce}),Me=function(){return i&&i.pool},Se=function(){return c&&c.detail&&c.detail.account},Qe=function(e){Ie(""),p(e)},Ee=function(e){u.length>0&&(e.stopPropagation(),B(!D))},Re=function(){var e=Object(l.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Se()||!Me()){e.next=5;break}return e.next=3,Object(d.getFundingRate)(c.detail.chainId,i.pool);case 3:(t=e.sent)&&(z(t.fundingRate0),n="Funding  Rate (per block) = ".concat(t.fundingRatePerBlock)+"\n(1 Long contract pays 1 short contract ".concat(t.fundingRatePerBlock," ").concat(i.bTokenSymbol," per block)"),K(n),ie(t.liquidity));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Te(){return Ye.apply(this,arguments)}function Ye(){return(Ye=Object(l.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Se()||!Me()){e.next=5;break}return e.next=3,Object(d.getPositionInfo)(c.detail.chainId,i.pool,c.detail.account);case 3:(t=e.sent)&&H(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Je=function(){var e=Object(l.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Se()||!Me()){e.next=5;break}return e.next=3,Object(d.getSpecification)(c.detail.chainId,i.pool,c.detail.account);case 3:t=e.sent,y(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(l.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Se()||!Me()){e.next=5;break}return e.next=3,Object(d.getEstimatedFee)(c.detail.chainId,i.pool,Math.abs(Ce));case 3:t=e.sent,ce(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),He=function(){var e=Object(l.a)(r.a.mark((function e(){var t,n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Se()||!Me()){e.next=9;break}return t=c.detail,e.next=4,Object(d.getLiquidityUsed)(t.chainId,i.pool);case 4:return n=e.sent,e.next=7,Object(d.getEstimatedLiquidityUsed)(t.chainId,i.pool,Ce);case 7:a=e.sent,n&&a&&de({curLiqUsed:n.liquidityUsed0,afterLiqUsed:a.liquidityUsed1});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(l.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Se()||!Me()){e.next=5;break}return e.next=3,Object(d.getEstimatedFundingRate)(c.detail.chainId,i.pool,Ce);case 3:(t=e.sent)&&$(t.fundingRate1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(){!function(){if(Se()&&Me()){var e=c.detail,t=e.chainId,n=e.account,a=i.pool;d.priceCache.clear(),d.priceCache.update(t,a),d.PerpetualPoolParametersCache.update(t,a,n)}}(),Re(),Te(),Je()};return Object(a.useEffect)((function(){var e=document.body.addEventListener("click",(function(){return B(!1)}),!1);return function(){document.body.removeEventListener("click",e)}}),[]),Object(a.useEffect)((function(){return Fe(),function(){}}),[c.detail,i]),Object(a.useEffect)((function(){return function(){if(J&&w&&O){var e=+Ce+ +J.volume,t=Math.abs(e)*O.index*w.multiplier,c=(+J.margin+ +J.unrealizedPnl).toFixed(2),n=(t*w.minInitialMarginRatio).toFixed(2),a=(+t/+c).toFixed(1),s=+c-+n,i=t/O.index,r={volume:Ce,dynamicBalance:c,margin:n,marginHeld:J.marginHeld,available:s,converted:i,leverage:a};Ne(r)}}(),ve.current&&be(ve.current>O.index?"fall":"rise"),ve.current=O.index,function(){}}),[J.unrealizedPnl,J.volume,O.index,Ce]),Object(a.useEffect)((function(){return Pe(),He(),Ge(),function(){}}),[Ce]),Object(a.useEffect)((function(){if(w){var e=+Q/(+O.index*+w.multiplier*+w.minInitialMarginRatio)-+J.volume;if(!isNaN(e)){var t=Math.floor(e);p(t>=0?"long":"short");var c=Object(k.a)({},ge);c.volume=t,Ne(c),Ie(t)}}return function(){}}),[Q]),Object(m.jsx)("div",{className:"trade-info",children:Object(m.jsxs)("div",{className:"trade-peration",children:[Object(m.jsxs)("div",{className:"check-baseToken",children:[Object(m.jsxs)("div",{className:"btn-group check-baseToken-btn",children:[Object(m.jsxs)("button",{type:"button",onClick:Ee,className:"btn chec",children:[i.symbol," / ",i.bTokenSymbol," (10X)",Object(m.jsx)("span",{className:"check-base-down",onClick:Ee,children:Object(m.jsx)("svg",{t:"1616752321986",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1700",width:"16",height:"16",children:Object(m.jsx)("path",{d:"M843.946667 285.866667L512 617.386667 180.053333 285.866667 119.893333 346.026667l331.946667 331.946666L512 738.133333l392.106667-392.106666-60.16-60.16z","p-id":"1701",fill:"#cccccc"})})})]}),Object(m.jsx)("div",{className:ke,children:Object(m.jsx)("div",{className:"dropdown-box",children:u.map((function(e,t){return Object(m.jsxs)("div",{className:"dropdown-item",onClick:function(t){return function(e){var t=u.find((function(t){return t.symbol===e.symbol}));fe(!0),b(t),Ie(""),fe(!1)}(e)},children:[e.symbol," / ",e.bTokenSymbol," (10X)"]},t)}))})})]}),Object(m.jsxs)("div",{className:"price-fundingRate pc",children:[Object(m.jsxs)("div",{className:"index-prcie",children:["Index Price: ",Object(m.jsxs)("span",{className:ue,children:["\xa0 ",Object(m.jsx)(o.a,{value:O.index,displayType:"text"})]})]}),Object(m.jsxs)("div",{className:"funding-rate",children:[Object(m.jsx)("span",{children:"Funding Rate Annual: \xa0"}),Object(m.jsx)("span",{className:"funding-per",title:W,children:L})]})]}),Object(m.jsxs)("div",{className:"price-fundingRate mobile",children:[Object(m.jsxs)("div",{className:"index-prcie",children:["Index: ",Object(m.jsxs)("span",{className:ue,children:["\xa0 ",Object(m.jsx)(o.a,{value:O.index,displayType:"text"})]})]}),Object(m.jsxs)("div",{className:"funding-rate",children:[Object(m.jsx)("span",{children:"Funding: \xa0"}),Object(m.jsx)("span",{className:"funding-per",title:W,children:L})]})]})]}),Object(m.jsxs)("div",{className:De,children:[Object(m.jsx)("div",{className:"check-long",onClick:function(){return Qe("long")},children:"LONG / BUY"}),Object(m.jsx)("div",{className:"check-short",onClick:function(){return Qe("short")},children:"SHORT / SELL"})]}),Object(m.jsxs)("div",{className:"the-input",children:[Object(m.jsxs)("div",{className:"left",children:[Object(m.jsxs)("div",{className:"current-position",children:[Object(m.jsx)("span",{children:"Current Position"}),Object(m.jsx)("span",{className:"position-text",children:J.volume})]}),Object(m.jsxs)("div",{className:"contrant",children:[Object(m.jsx)("input",{type:"number",onFocus:function(e){e.target.setAttribute("class","contrant-input inputFamliy")},onBlur:function(e){var t=e.target;""===t.value&&t.setAttribute("class","contrant-input")},onKeyUp:function(e){return""!==e.target.value&&/^\d*\.?\d*$/.test(e.target.value)},disabled:!ge.available,onChange:function(e){return Ie("long"===h?e.target.value:-e.target.value)},value:ge.volume&&Math.abs(ge.volume),className:Be,placeholder:"Contract Volume"}),Object(m.jsx)("div",{className:"title-volume",children:"Contract Volume"})]}),!!Ce&&Object(m.jsx)("div",{className:"btc",children:Object(m.jsx)(o.a,{value:ge.converted,allowNegative:!1,displayType:"text",decimalScale:4,prefix:"= ",suffix:" ".concat(i.unit)})})]}),Object(m.jsx)("div",{className:"right-info",children:Object(m.jsxs)("div",{className:"contrant-info",children:[Object(m.jsxs)("div",{className:"balance-contract",children:[Object(m.jsxs)("span",{className:"balance-contract-text pc",children:["Balance in Contract",Object(m.jsx)("br",{}),"(Dynamic Balance)"]}),Object(m.jsxs)("span",{className:"balance-contract-text mobile",children:["Balance in Contract",Object(m.jsx)("br",{}),"(Dyn Bal.)"]}),Object(m.jsx)("span",{className:"balance-contract-num",children:Object(m.jsx)(o.a,{value:ge.dynamicBalance,displayType:"text",decimalScale:2})})]}),Object(m.jsxs)("div",{className:"box-margin",children:[Object(m.jsx)("span",{children:" Margin "}),Object(m.jsx)("span",{className:"margin",children:Object(m.jsx)(o.a,{value:ge.margin,allowNegative:!1,displayType:"text",decimalScale:2})})]}),Object(m.jsxs)("div",{className:"available-balance",children:[Object(m.jsx)("span",{className:"available-balance pc",children:" Available Balance "}),Object(m.jsx)("span",{className:"available-balance mobile",children:"Avail Bal"}),Object(m.jsx)("span",{className:"available-balance-num",children:Object(m.jsx)(o.a,{value:ge.available,displayType:"text",decimalScale:2})})]})]})})]}),Object(m.jsx)("div",{className:"slider mt-13",children:Object(m.jsx)(E,{max:ge.dynamicBalance,freeze:me,onValueChange:function(e){R(e)},start:ge.margin})}),Object(m.jsx)("div",{className:"title-margin",children:"Margin"}),Object(m.jsx)("div",{className:"enterInfo",children:!!Ce&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"text-info",children:[Object(m.jsx)("div",{className:"title-enter pool",children:"Pool Liquidity"}),Object(m.jsx)("div",{className:"text-enter poolL",children:Object(m.jsx)(o.a,{value:se,decimalScale:2,suffix:" ".concat(i.bTokenSymbol),displayType:"text"})})]}),Object(m.jsxs)("div",{className:"text-info",children:[Object(m.jsx)("div",{className:"title-enter",children:"Liquidity Used"}),Object(m.jsxs)("div",{className:"text-enter",children:[Object(m.jsx)(o.a,{value:oe.curLiqUsed,displayType:"text",suffix:"%"})," -> ",Object(m.jsx)(o.a,{value:oe.afterLiqUsed,displayType:"text",decimalScale:2,suffix:"%"})]})]}),Object(m.jsxs)("div",{className:"text-info",children:[Object(m.jsx)("div",{className:"title-enter",children:"Funding Rate Impact"}),Object(m.jsxs)("div",{className:"text-enter",children:[Object(m.jsx)(o.a,{value:L,displayType:"text",suffix:"%",allowNegative:!1,decimalScale:4})," -> ",Object(m.jsx)(o.a,{value:q,displayType:"text",allowNegative:!1,decimalScale:4,suffix:"%"})]})]}),Object(m.jsxs)("div",{className:"text-info",children:[Object(m.jsx)("div",{className:"title-enter",children:"Transaction Fee"}),Object(m.jsx)("div",{className:"text-enter",children:Object(m.jsx)(o.a,{value:te,decimalScale:2,suffix:" ".concat(i.bTokenSymbol),displayType:"text"})})]})]})}),Object(m.jsx)(G,{hasConnectWallet:Se,transFee:te,wallet:c,spec:i,indexPrice:O,available:ge.available,volume:Ce,direction:h,leverage:ge.leverage,afterTrade:function(){Ie(""),Te()},position:J.volume})]})})}var Y=Object(u.a)((function(e){var t=e.wallet,c=e.spec,n=e.onClose,a=e.volume,s=e.direction,i=e.position,A=void 0===i?0:i,j=e.indexPrice,u=e.leverage,b=e.transFee,O=e.afterTrade,x=function(){var e=Object(l.a)(r.a.mark((function e(){var s,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.tradeWithMargin)(t.detail.chainId,c.pool,t.detail.account,a);case 2:(s=e.sent).success?(O(),n()):(i="string"===typeof s.error?s.error:s.error.errorMessage||s.error.message,alert(i));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=+a+ +A;return Object(m.jsx)("div",{className:"modal-dialog",children:Object(m.jsxs)("div",{className:"modal-content",children:[Object(m.jsxs)("div",{className:"modal-header",children:[Object(m.jsx)("div",{className:"title",children:"CONFIRM"}),Object(m.jsx)("div",{className:"close","data-dismiss":"modal",onClick:n,children:Object(m.jsx)("span",{children:"\xd7"})})]}),Object(m.jsx)("div",{className:"modal-body",children:Object(m.jsxs)("div",{className:"contract-box-info",children:[Object(m.jsxs)("div",{className:"top",children:[Object(m.jsxs)("div",{className:"text",children:[Object(m.jsx)("div",{className:"text-title",children:"# of Contracts"}),Object(m.jsx)("div",{className:"text-num",children:a})]}),Object(m.jsxs)("div",{className:"text",children:[Object(m.jsx)("div",{className:"text-title",children:"Position after execution"}),Object(m.jsx)("div",{className:"text-num",children:f})]}),Object(m.jsxs)("div",{className:"text",children:[Object(m.jsx)("div",{className:"text-title",children:"Direction"}),Object(m.jsx)("div",{className:"text-num",children:Object(m.jsx)("span",{className:s,children:s})})]}),Object(m.jsxs)("div",{className:"text",children:[Object(m.jsx)("div",{className:"text-title",children:"Trade Price (estimated)"}),Object(m.jsx)("div",{className:"text-num",children:Object(m.jsx)(o.a,{value:j,decimalScale:2,displayType:"text"})})]}),Object(m.jsxs)("div",{className:"text",children:[Object(m.jsx)("div",{className:"text-title",children:"Leverage after execution"}),Object(m.jsxs)("div",{className:"text-num",children:[u,"X"]})]}),Object(m.jsxs)("div",{className:"text",children:[Object(m.jsx)("div",{className:"text-title",children:"Transaction Fee"}),Object(m.jsx)("div",{className:"text-num",children:Object(m.jsx)(o.a,{value:b,decimalScale:2,suffix:" ".concat(c.bTokenSymbol),displayType:"text"})})]})]}),Object(m.jsx)("div",{className:"modal-footer",children:Object(m.jsxs)("div",{className:"long-btn","v-if":"confirm",children:[Object(m.jsx)("button",{className:"cancel",onClick:n,children:"CANCEL"}),Object(m.jsx)(R.a,{className:"confirm",btnText:"OK",click:x})]})})]})})]})})})),J=Object(u.a)(b.a);function G(e){var t=e.hasConnectWallet,c=e.wallet,s=e.spec,i=e.volume,o=e.available,A=e.baseToken,j=e.leverage,u=e.indexPrice,b=e.position,O=e.direction,x=e.transFee,f=e.afterTrade,v=Object(a.useState)(!0),h=Object(n.a)(v,2),p=h[0],g=h[1],N=Object(a.useState)(!1),w=Object(n.a)(N,2),y=w[0],C=w[1],I=Object(a.useState)(!0),D=Object(n.a)(I,2),k=D[0],B=D[1],M=Object(a.useState)(!1),S=Object(n.a)(M,2),Q=S[0],E=S[1],T=Object(a.useState)(""),G=Object(n.a)(T,2),H=G[0],P=G[1],F=function(){var e=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z(),f();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(r.a.mark((function e(){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t()||!s.pool){e.next=6;break}return n=c.detail,e.next=4,Object(d.isUnlocked)(n.chainId,s.pool,n.account).catch((function(e){return console.log(e)}));case 4:a=e.sent,g(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(l.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.isConnected()||!s.pool){e.next=5;break}return e.next=3,Object(d.getWalletBalance)(c.detail.chainId,s.pool,c.detail.account);case 3:(t=e.sent)&&P(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){return z(),function(){}}),[c.detail.account]),Object(a.useEffect)((function(){return C(!(+o>0)),function(){}}),[o]),Object(a.useEffect)((function(){return B(!i),function(){}}),[i]),Object(a.useEffect)((function(){return L(),function(){}}),[s.pool]);var Z=function(){E(!1)},U=Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Y,{wallet:c,spec:s,modalIsOpen:Q,onClose:Z,leverage:j,baseToken:A,volume:i,direction:O,position:b,indexPrice:u.index,transFee:x,afterTrade:f}),Object(m.jsx)("button",{className:"short-submit",onClick:function(){return E(!0)},children:"TRADE"})]});return t()?p?y&&void 0!==o?U=Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(J,{wallet:c,modalIsOpen:Q,onClose:Z,spec:s,balance:H,afterDeposit:F}),Object(m.jsx)("div",{className:"noMargin-text",children:"You\xa0have\xa0no\xa0fund\xa0in\xa0contract.\xa0Please\xa0deposit\xa0first."}),Object(m.jsx)("button",{className:"short-submit",onClick:function(){return E(!0)},children:"DEPOSIT"})]}):k&&(U=Object(m.jsx)(R.a,{className:"btn btn-danger short-submit",disabled:!0,btnText:"ENTER VOLUME"})):U=Object(m.jsx)(R.a,{className:"approve",btnText:"APPROVE",onClick:function(){var e=c.detail,t=Object(d.unlock)(e.chainId,s.pool,e.account);t.success?g(!0):alert(t.error)}}):U=Object(m.jsx)(R.a,{className:"btn btn-danger connect",btnText:"Connect Wallet",click:function(){c.connect()}}),Object(m.jsx)("div",{className:"submit-btn",children:U})}function H(e){var t=e.wallet,c=e.specs,s=e.spec,i=e.onSpecChange,r=e.isPro,l=e.indexPrice,o=Object(a.useState)("trade"),d=Object(n.a)(o,2),A=d[0],u=d[1],b=function(e){return u(e)},O=j()("trade-position",A);return Object(m.jsxs)("div",{className:O,children:[Object(m.jsx)("div",{className:"header-top",children:Object(m.jsxs)("div",{className:"header",children:[Object(m.jsx)("span",{className:"trade",onClick:function(){return b("trade")},children:"TRADE"}),!r&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("span",{className:"position",onClick:function(){return b("position")},children:"MY POSITION"}),Object(m.jsx)("span",{className:"history",onClick:function(){return b("history")},children:"HISTORY"})]})]})}),Object(m.jsx)(T,{wallet:t,spec:s,specs:c,indexPrice:l,onSpecChange:i}),Object(m.jsx)(h,{wallet:t,spec:s}),Object(m.jsx)(C,{wallet:t,spec:s,specs:c}),Object(m.jsx)(D,{wallet:t,spec:s})]})}},573:function(e,t,c){"use strict";c.d(t,"a",(function(){return j}));var n=c(0),a=c.n(n),s=c(2),i=c(16),r=c(4),l=c(49),o=c(553),d=c(554),A=c(40);function j(e){var t=e.wallet,c=e.spec,n=void 0===c?{}:c,j=e.position,u=e.onClose,b=e.afterWithdraw,O=Object(r.useState)(""),x=Object(i.a)(O,2),m=x[0],f=x[1],v=Object(r.useState)(""),h=Object(i.a)(v,2),p=h[0],g=h[1],N=Object(r.useState)(""),w=Object(i.a)(N,2),y=w[0],C=w[1],I=function(){var e=Object(s.a)(a.a.mark((function e(){var c,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isConnected()&&j&&(c=+j.margin+ +j.unrealizedPnl+"",n=c.indexOf(".")>0?c.substring(c.indexOf(".")+1,c.indexOf(".")+3):"0",f(c),g(n));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(s.a)(a.a.mark((function e(){var c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.withdrawMargin)(t.detail.chainId,n.pool,t.detail.account,y);case 2:(c=e.sent).success?b():(s="string"===typeof c.error?c.error:c.error.errorMessage||c.error.message,alert(s));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){return I(),function(){}}),[t.detail.account,j.unrealizedPnl]),Object(A.jsx)("div",{className:"modal fade",id:"removeMargin",children:Object(A.jsx)("div",{className:"modal-dialog",children:Object(A.jsxs)("div",{className:"modal-content",children:[Object(A.jsxs)("div",{className:"modal-header",children:[Object(A.jsx)("div",{className:"title",children:"WITHDRAW MARGIN"}),Object(A.jsx)("div",{className:"close",onClick:u,children:Object(A.jsx)("span",{children:"\xd7"})})]}),Object(A.jsx)("div",{className:"modal-body",children:Object(A.jsxs)("div",{className:"margin-box-info",children:[Object(A.jsx)("div",{children:"Available Balance"}),Object(A.jsxs)("div",{className:"money",children:[Object(A.jsx)("span",{children:Object(A.jsxs)("span",{className:"bt-balance",children:[Object(A.jsx)(o.a,{value:m,thousandSeparator:!1,displayType:"text",decimalScale:0}),".",Object(A.jsx)("span",{style:{fontSize:"12px"},children:p})]})}),Object(A.jsx)("span",{className:"remove"})]}),Object(A.jsxs)("div",{className:"enter-margin remv",children:[Object(A.jsx)("div",{className:"input-margin",children:Object(A.jsxs)("div",{className:"box",children:[Object(A.jsx)("div",{className:"amount",style:{display:""!==y?"block":"none"},children:"AMOUNT"}),Object(A.jsx)("input",{type:"number",className:"margin-value",value:y,onChange:function(e){var t=e.target.value;C(t)},placeholder:"Amount"})]})}),Object(A.jsx)("div",{children:n.baseToken})]}),0===+j.volume&&Object(A.jsxs)("div",{className:"max","v-show":"isPosition",children:["MAX: ",Object(A.jsx)("span",{className:"max-num",children:m}),Object(A.jsx)("span",{className:"max-btn-left",onClick:function(){C(m)},children:"REMOVE ALL"})]}),Object(A.jsx)("div",{className:"add-margin-btn",children:Object(A.jsx)(d.a,{className:"margin-btn",btnText:"WITHDRAW",click:D})})]})})]})})})}},575:function(e,t,c){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAABBdSURBVHic7d0tj2xZFcfhBeFFkAwCLA6HJEGgwYHEkyBwgwJHwGEQjOILoPgKIAmCQDAEEiZoSHAkCEAMom/PdPet6qrzuvda63mS9mfudFf/797nNxMxn+9ExI8j4tODnwMAONG7EfFBRLwfEd8a/CwAwEkeB8Dj168i4ktDnwgAivn46Ae4w9ci4o8R8V5EvDP4WQCAg7w8AXj69c+I+F7kGC4AwAKvDYDHr99HxFdHPSAAZJf1b9JfjojfRMQvI+ILg58FANLJOgAiIj4WD5XAX0I2CADp3XMFcOlLNggAd8p8AvDSF+PhSkA2CAA3VBoAj2SDAJDQ2isA2SAAJLbnAJANAsAFXf5mLBsEgCe6DIAI2SAATO2IKwDZIAA80ekE4CXZIABtdR4Aj2SDALRjADz4ZDxcPfwtZIMANOAX3XOfj4ifRcTvQjYIQGEGwGWyQQBKMwCukw0CUJYBcNtnIuJHEfGnkA0CUIQBcD/ZIABlGADLyQYBSM8AWEc2CEBqfnFtIxsEICUDYB+yQQBSMQD2IxsEIA0DYH+yQQCmZwAcRzYIwLQMgOM9zQY/O/hZACAiDICzyAYBmIpfROf6XMgGAZiAATCGbBCAoQyAcWSDAAxjAIwnGwTgdAbAPGSDAJzGAJiPbBCAwxkAc5INAnAov1jmJhsE4BAGQA6yQQB2ZQDkIRsEYDcGQD6yQQA2MwDykg0CsJoBkJ9sEIDFDIAaZIMALOIXRS2yQQDuYgDUJBsE4FUGQF2yQQCuMgDqkw0C8BYDoA/ZIAAfMgD6kQ0CYAA0JRsEaM4Hf2+yQYCmDAAiZIMA7RgAPJINAjRiAPCSbBCgAQOAa2SDAIUZANwiGwQoyADgHrJBgGJ8kLOEbBCgCAOANWSDAMkZAKwlGwRIzABgK9kgQEIGAHuRDQIkYgCwN9kgQAIGAEeQDQJMzgczR5INAkzKAOAMskGAyRgAnEU2CDARA4CzyQYBJmAAMIpsEGAgA4DRZIMAAxgAzEA2CHAyH7TMRDYIcBIDgBnJBgEOZgAwK9kgwIEMAGYnGwQ4gAFAFrJBgB0ZAGQjGwTYgQFARrJBgI18cJKZbBBgJQOACmSDAAsZAFQhGwRYwACgGtkgwB0MAKqSDQK8wgCgOtkgwAUGAB3IBgFe8EFIJ7JBgDcMADqSDQLtGQB0JRsEWjMA6E42CLRkAMAD2SDQigEAz8kGgRYMAHibbBAozwcbXCcbBMoyAOA22SBQjgEA95ENAqUYALCMbBAowQCAdWSDQGoGAGwjGwRSMgBgO9kgkI4PKtiPbBBIwwCA/ckGgekZAHAM2SAwNQMAjiUbBKZkAMA5ZIPAVAwAOJdsEJiCAQDnkw0Cw/nggXFkg8AwBgCMJxsETmcAwBxkg8CpDACYi2wQOIUBAHOSDQKHMgBgbrJB4BAGAMxPNgjszgcJ5CEbBHZjAEA+skFgMwMAcpINApsYAJCbbBBYxQCAGmSDwCIGANQiGwTuYgBAPbJB4CYfDFCXbBC4ygCA+mSDwFsMAOhBNgg8YwBAL7JBICIMAOhKNgjNGQDQm2wQmjIAANkgNOQHHXgkG4RGDADgJdkgNGAAAJfIBqE4AwB4jWwQijIAgHvIBqEYAwBYQjYIRRgAwFKyQSjADy6wlmwQEjMAgK1kg5CQAQDsQTYIyRgAwJ5kg5CEAQAcQTYIkzMAgCPJBmFSBgBwNNkgTMgPInAW2SBMxAAAziYbhAkYAMAIskEYzAAARpINwiAGADAD2SCczAAAZiIbhJMYAMBsZINwAj9YwKxkg3AgAwCYnWwQDmAAABnIBmFnBgCQiWwQdmIAABnJBmEjAwDITDYIKxkAQHayQVjBDwpQhWwQFjAAgGpkg3AHAwCoSDYINxgAQGWyQbjCAAA6kA3CCwYA0IlsEN4wAIBuZIMQvvGBvmSDtGYAAN3JBmnJAACQDdKQAQDwEdkgbRgAAG+TDVKeAQBwnWyQsgwAgNfJBinJNzLAfWSDlGIAACwjG6QEAwBgOdkg6RkAAOvJBknLAADYTjZIOgYAwH5kg6RhAADsSzZICr4xAY4hG2RqBgDAsWSDTMkAADiebJDpGAAA55ENMg0DAOB8skGGMwAAxpENMowBADCWbJAhfKMBzEE2yKkMAIC5yAY5hQEAMB/ZIIczAADmJRvkMAYAwPxkg+zOAADIQzbIbgwAgFxkg+zCNw5ATrJBNjEAAHKTDbKKAQCQn2yQxQwAgDpkg9zNAACoRzbITQYAQF2yQa4yAABqkw1ykW8EgB5kgzxjAAD0IhskIgwAgI5kgxgAAI3JBhszAACQDTZkAADwSDbYiAEAwFOywSb8iwXgEtlgcQYAAK+RDRZlAABwi2ywIAMAgHvJBgsxAABYSjZYgAEAwFqywcQMAAC2kA0m5V8UAHuQDSZjAACwJ9lgEgYAAHuTDSZgAABwFNngxAwAAI4mG5yQAQDAWWSDEzEAADiTbHAS/uABGEE2OJgBAMBIssFBDAAARpMNDmAAADAL2eCJDAAAZiMbPIEBAMCsZIMHMgAAmJls8CD+IAHIQDa4MwMAgExkgzsxAADIRja4AwMAgKxkgxsYAABkJxtcwQAAoArZ4AIGAACVyAbv5A8GgIpkgzcYAABUJhu8wgAAoDrZ4AUGAABdyAafMAAA6EY2GAYAAH21zgYNAAA6a5sNtvkHBYBXtMsGDQAA+EibbNAAAIDnWmSDBgAAXFY6GzQAAOB1JbNBAwAA7lMqGzQAAOB+ZbLBtA8OAAOlzwYNAABYL202aAAAwDYps0EDAAD2kSobNAAAYF8pskEDAACOMXU2aAAAwPE+GP0AL31i9AMAQFG/jof/VsCfRz/IJU4AAGBf70fENyPi6zHpL/8IJwAAsJd/R8RPI+InEfGfwc9ykwEAANt8EBG/iIgfRMQ/Bj/L3QwAAFjvD/Hw/wb47egHWco7AACw3D8i4rsR8ZVI+Ms/wgkAACzxv4j4eUT8MCL+NfhZNjEAAOA+U2d9S7kCAIDXpcj6lnICAACXpcr6ljIAAOC5lFnfUgYAAHwkbda3lHcAAKBA1reUEwAAOiuT9S1lAADQVamsbylXAAB0UzLrW8oJAABdlM76ljIAAKiuRda3lAEAQGVtsr6lvAMAQEXtsr6lnAAAUEnbrG8pAwCAKlpnfUu5AgAgO1nfCk4AAMhK1reBAQBANrK+HRgAAGQi69uJdwAAyEDWtzMnAADMTNZ3EAMAgFnJ+g7kCgCA2cj6TuAEAIBZyPpOZAAAMJqsbwADAICRZH2DeAcAgBFkfYM5AQDgTLK+SRgAAJxF1jcRVwAAHE3WNyEnAAAcRdY3MQMAgL3J+hIwAADYk6wvCe8AALAHWV8yTgAA2ELWl5QBAMBasr7EXAEAsJSsrwAnAADcS9ZXiAEAwC2yvoIMAABeI+sryjsAAFwi6yvOCQAAT8n6mjAAAHgk62vEFQAAsr6GnAAA9CXra8wAAOhH1ocBANCMrI+I8A4AQBeyPp5xAgBQm6yPiwwAgLpkfVzlCgCgHlkfNzkBAKhD1sfdDACA/GR9LGYAAOQm62MV7wAA5CTrYxMnAAC5yPrYhQEAkIesj924AgCYn6yP3TkBAJiXrI/DGAAA85H1cTgDAGAusj5O4R0AgDnI+jiVEwCAsWR9DGEAAIwj62MYVwAA55P1MZwTAIDzyPqYhgEAcDxZH9MxAACOJetjSt4BADiGrI+pOQEA2JesjxQMAID9yPpIwxUAwHayPtJxAgCwnqyPtAwAgOVkfaRnAAAsI+ujBO8AANxH1kcpTgAAXifroyQDAOA6WR9luQIAeJusj/KcAAB8RNZHGwYAgKyPhgwAoDtZHy15BwDoStZHa04AgG5kfRAGANCLrA/ecAUAdCDrgxecAACVyfrgCgMAqEjWBzcYAEA1sj64g3cAgCpkfbCAEwAgO1kfrGAAAJnJ+mAlVwBARrI+2MgJAJCJrA92YgAAGcj6YGcGADA7WR8cwDsAwKxkfXAgJwDAbGR9cAIDAJiJrA9O4goAmIGsD07mBAAYSdYHgxgAwAiyPhjMAADOJuuDCXgHADiLrA8m4gQAOJqsDyZkAABHkvXBpFwBAEeQ9cHknAAAe5L1QRIGALAHWR8kYwAAW8n6ICHvAABryfogMScAwFKyPijAAACWkPVBEa4AgHvI+qAYJwDAa2R9UJQBAFwi64PiDADgJVkfNOAdAOCRrA8acQIAyPqgIQMAepP1QVOuAKAnWR805wQAepH1ARFhAEAXsj7gGQMA6pP1AW/xDgDUJesDrnICAPXI+oCbDACoRdYH3MUVANQg6wMWcQIAucn6gFUMAMhJ1gdsYgBAPrI+YDPvAEAesj5gN04AYH6yPmB3BgDMTdYHHMIVAMxJ1gccygkAzEXWB5zCAIA5yPqAUxkAMJ6sDziddwBgHFkfMIwTADifrA8YzgCAc8n6gCm4AoBzyPqAqTgBgGPJ+oApGQBwDFkfMDUDAPYn6wOm5x0A2I+sD0jDCQBsJ+sD0jEAYBtZH5CSKwBYR9YHpOYEAJaR9QElGABwH1kfUIoBALfJ+oByvAMA18n6gLKcAMDbZH1AeQYAPCfrA1pwBQAPZH1AK04A6E7WB7RkANCVrA9ozQCgI1kf0J53AOhE1gfwhhMAOpD1AbxgAFCdrA/gAlcAVCXrA3iFEwCqkfUB3MEAoApZH8ACBgAVyPoAFvIOAJnJ+gBWcgJARrI+gI0MALKR9QHswBUAWcj6AHbkBIDZyfoADmAAMCtZH8CBDABmJOsDOJh3AJiJrA/gJE4AmIGsD+BkBgCjyfoABnAFwCiyPoCBnABwNlkfwAQMAM4i6wOYiAHAGWR9AJPxDgBHkvUBTMoJAEeQ9QFMzgBgb7I+gARcAbAXWR9AIk4A2ErWB5CQAcBasj6AxAwA1pD1ASTnHQCWkPUBFOEEgHvI+gCKMQC4RdYHUJArAK6R9QEU5gSAl2R9AA0YADyS9QE0YgAQIesDaMc7AL3J+gCacgLQk6wPoDkDoB9ZHwCuABqR9QHwIScA9cn6AHiLAVCXrA+AqwyAmmR9ALzKOwC1yPoAuIsTgBpkfQAsYgDkJ+sDYDFXAHnJ+gBYzQlAPrI+ADYzAPKQ9QGwGwMgB1kfALvyDsDcZH0AHMIJwJxkfQAcygCYj6wPgMO5ApiHrA+A0zgBGE/WB8DpDIBxZH0ADGMAjCHrA2Ao7wCcS9YHwBScAJxD1gfAVAyA48n6AJiOK4DjyPoAmJYTgP3J+gCYngGwH1kfAGkYAPuQ9QGQincAtvl7yPoASMgJwDqyPgBSMwCWk/UBkJ4rgPvJ+gAowwnAbbI+AMoxAK6T9QFQlgFwmawPgNK8A/CcrA+AFpwAPJD1AdCKASDrA6ChzlcAsj4A2up4AiDrA6C9TgNA1gcAb3QZALI+AHii+jsAsj4AuKDqCYCsDwBeUXEAyPoA4IZKVwCyPgC4U4UTAFkfACyUeQDI+gBgpawDQNYHABtkewdA1gcARb0bD8f7T7/+GxHvRcQ7A58LAMrIcAUg6wOABh5PAP4aEd8Y/CwAwEm+HRHfj4hPDX4OACjr/+F/mKZgNNwOAAAAAElFTkSuQmCC"},601:function(e,t,c){}}]);
//# sourceMappingURL=2.9e1820fe.chunk.js.map